{"version":3,"file":"rollup.js","sources":["../src/rollup.js","../src/Bundle.js","../src/utils/load.js","../src/utils/resolveId.js","../src/utils/ensureArray.js","../src/Scope.js","../src/Module.js","../src/Statement.js","../src/ast/Scope.js","../src/utils/getLocation.js","../src/ast/walk.js","../src/ExternalModule.js","../src/utils/makeLegalIdentifier.js","../src/utils/getExportMode.js","../node_modules/magic-string/src/index.js","../node_modules/magic-string/src/MagicString/index.js","../node_modules/magic-string/src/Bundle/index.js","../node_modules/magic-string/src/utils/hasOwnProp.js","../node_modules/magic-string/src/MagicString/guessIndent.js","../node_modules/magic-string/src/utils/SourceMap.js","../node_modules/magic-string/src/utils/btoa.js","../node_modules/magic-string/src/utils/getRelativePath.js","../node_modules/magic-string/src/MagicString/encodeMappings.js","../node_modules/magic-string/node_modules/vlq/src/vlq.js","../src/utils/getIndentString.js","../src/finalisers/index.js","../src/finalisers/amd.js","../src/finalisers/cjs.js","../src/finalisers/es6.js","../src/finalisers/iife.js","../src/finalisers/umd.js","../src/utils/map-helpers.js","../src/finalisers/shared/getInteropBlock.js","../src/finalisers/shared/getExportBlock.js","../src/utils/normalizePlatform.js","../src/utils/object.js","../src/utils/path.js","../src/utils/sourceMappingURL.js"],"sourcesContent":["import { basename } from './utils/path';\nimport { writeFile } from 'sander';\nimport { keys } from './utils/object';\nimport SOURCEMAPPING_URL from './utils/sourceMappingURL';\nimport Bundle from './Bundle';\n\nexport function rollup ( options ) {\n\tif ( !options || !options.entry ) {\n\t\tthrow new Error( 'You must supply options.entry to rollup' );\n\t}\n\n\tconst bundle = new Bundle( options );\n\n\treturn bundle.build().then( () => {\n\t\treturn {\n\t\t\timports: bundle.externalModules.map( module => module.id ),\n\t\t\texports: keys( bundle.entryModule.exports ),\n\t\t\tmodules: bundle.orderedModules.map( module => {\n\t\t\t\treturn { id: module.id };\n\t\t\t}),\n\n\t\t\tgenerate: options => bundle.render( options ),\n\t\t\twrite: options => {\n\t\t\t\tif ( !options || !options.dest ) {\n\t\t\t\t\tthrow new Error( 'You must supply options.dest to bundle.write' );\n\t\t\t\t}\n\n\t\t\t\tconst dest = options.dest;\n\t\t\t\tlet { code, map } = bundle.render( options );\n\n\t\t\t\tlet promises = [];\n\n\t\t\t\tif ( options.sourceMap ) {\n\t\t\t\t\tlet url;\n\n\t\t\t\t\tif ( options.sourceMap === 'inline' ) {\n\t\t\t\t\t\turl = map.toUrl();\n\t\t\t\t\t} else {\n\t\t\t\t\t\turl = `${basename( dest )}.map`;\n\t\t\t\t\t\tpromises.push( writeFile( dest + '.map', map.toString() ) );\n\t\t\t\t\t}\n\n\t\t\t\t\tcode += `\\n//# ${SOURCEMAPPING_URL}=${url}`;\n\t\t\t\t}\n\n\t\t\t\tpromises.push( writeFile( dest, code ) );\n\t\t\t\treturn Promise.all( promises );\n\t\t\t}\n\t\t};\n\t});\n}\n","import { Promise } from 'sander';\nimport MagicString from 'magic-string';\nimport { blank, keys } from './utils/object';\nimport Module from './Module';\nimport ExternalModule from './ExternalModule';\nimport finalisers from './finalisers/index';\nimport ensureArray from './utils/ensureArray';\nimport { defaultResolver, defaultExternalResolver } from './utils/resolveId';\nimport { defaultLoader } from './utils/load';\nimport getExportMode from './utils/getExportMode';\nimport getIndentString from './utils/getIndentString';\nimport { unixizePath } from './utils/normalizePlatform.js';\nimport Scope from './Scope';\n\nexport default class Bundle {\n\tconstructor ( options ) {\n\t\tthis.entry = options.entry;\n\t\tthis.entryModule = null;\n\n\t\tthis.resolveId = options.resolveId || defaultResolver;\n\t\tthis.load = options.load || defaultLoader;\n\n\t\tthis.resolveOptions = {\n\t\t\texternal: ensureArray( options.external ),\n\t\t\tresolveExternal: options.resolveExternal || defaultExternalResolver\n\t\t};\n\n\t\tthis.loadOptions = {\n\t\t\ttransform: ensureArray( options.transform )\n\t\t};\n\n\t\t// The global scope, and the bundle's internal scope.\n\t\tthis.globals = new Scope();\n\t\tthis.scope = new Scope( this.globals );\n\n\t\t// Strictly speaking, these globals only apply to non-ES6, non-default-only bundles.\n\t\t// However, the deconfliction logic is greatly simplified by being the same for all formats.\n\t\t// * CommonJS needs `module` and `exports` ( and `require`? ) to be in scope.\n\t\t// * SystemJS needs a reference to a function for its `exports`,\n\t\t//   and another one for any `module` it imports. These global names can be reused!\n\t\t[ 'exports', 'module' ]\n\t\t\t.forEach( name => {\n\t\t\t\tthis.globals.define( name );\n\t\t\t\tthis.scope.bind( name, this.globals.reference( name ) );\n\t\t\t});\n\n\t\t// Alias for entryModule.exports.\n\t\tthis.exports = null;\n\n\t\tthis.toExport = null;\n\n\t\tthis.pending = blank();\n\t\tthis.moduleById = blank();\n\t\tthis.modules = [];\n\n\t\tthis.statements = null;\n\t\tthis.externalModules = [];\n\t}\n\n\tbuild () {\n\t\treturn Promise.resolve( this.resolveId( this.entry, undefined, this.resolveOptions ) )\n\t\t\t.then( id => this.fetchModule( id ) )\n\t\t\t.then( entryModule => {\n\t\t\t\tthis.entryModule = entryModule;\n\t\t\t\tthis.exports = entryModule.exports;\n\n\t\t\t\tentryModule.markAllStatements( true );\n\t\t\t\tentryModule.markAllExports();\n\n\t\t\t\t// Include all side-effects\n\t\t\t\tthis.modules.forEach( module => {\n\t\t\t\t\tmodule.markAllSideEffects();\n\t\t\t\t});\n\n\t\t\t\t// Sort the modules.\n\t\t\t\tthis.orderedModules = this.sort();\n\n\t\t\t\t// As a last step, deconflict all identifier names, once.\n\t\t\t\tthis.scope.deconflict();\n\n\t\t\t\t// Alias the default import to the external module named\n\t\t\t\t// for external modules that don't need named imports.\n\t\t\t\tthis.externalModules.forEach( module => {\n\t\t\t\t\tconst externalDefault = module.exports.lookup( 'default' );\n\n\t\t\t\t\tif ( externalDefault && !( module.needsNamed || module.needsAll ) ) {\n\t\t\t\t\t\texternalDefault.name = module.name;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t}\n\n\tfetchModule ( id ) {\n\t\t// short-circuit cycles\n\t\tif ( this.pending[ id ] ) return null;\n\t\tthis.pending[ id ] = true;\n\n\t\treturn Promise.resolve( this.load( id, this.loadOptions ) )\n\t\t\t.then( source => {\n\t\t\t\tlet ast;\n\n\t\t\t\tif ( typeof source === 'object' ) {\n\t\t\t\t\tast = source.ast;\n\t\t\t\t\tsource = source.code;\n\t\t\t\t}\n\n\t\t\t\tconst module = new Module({\n\t\t\t\t\tid,\n\t\t\t\t\tsource,\n\t\t\t\t\tast,\n\t\t\t\t\tbundle: this\n\t\t\t\t});\n\n\t\t\t\tthis.modules.push( module );\n\t\t\t\tthis.moduleById[ id ] = module;\n\n\t\t\t\treturn this.fetchAllDependencies( module ).then( () => {\n\t\t\t\t\t// Analyze the module once all its dependencies have been resolved.\n\t\t\t\t\t// This means that any dependencies of a module has already been\n\t\t\t\t\t// analysed when it's time for the module itself.\n\t\t\t\t\tmodule.analyse();\n\t\t\t\t\treturn module;\n\t\t\t\t});\n\t\t\t});\n\t}\n\n\tfetchAllDependencies ( module ) {\n\t\tconst promises = module.dependencies.map( source => {\n\t\t\treturn Promise.resolve( this.resolveId( source, module.id, this.resolveOptions ) )\n\t\t\t\t.then( resolvedId => {\n\t\t\t\t\tmodule.resolvedIds[ source ] = resolvedId || source;\n\n\t\t\t\t\t// external module\n\t\t\t\t\tif ( !resolvedId ) {\n\t\t\t\t\t\tif ( !this.moduleById[ source ] ) {\n\t\t\t\t\t\t\tconst module = new ExternalModule( { id: source, bundle: this } );\n\t\t\t\t\t\t\tthis.externalModules.push( module );\n\t\t\t\t\t\t\tthis.moduleById[ source ] = module;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\telse if ( resolvedId === module.id ) {\n\t\t\t\t\t\tthrow new Error( `A module cannot import itself (${resolvedId})` );\n\t\t\t\t\t}\n\n\t\t\t\t\telse {\n\t\t\t\t\t\treturn this.fetchModule( resolvedId );\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t});\n\n\t\treturn Promise.all( promises );\n\t}\n\n\trender ( options = {} ) {\n\t\tconst format = options.format || 'es6';\n\n\t\t// Determine export mode - 'default', 'named', 'none'\n\t\tconst exportMode = getExportMode( this, options.exports );\n\n\t\t// If we have named exports from the bundle, and those exports\n\t\t// are assigned to *within* the bundle, we may need to rewrite e.g.\n\t\t//\n\t\t//   export let count = 0;\n\t\t//   export function incr () { count++ }\n\t\t//\n\t\t// might become...\n\t\t//\n\t\t//   exports.count = 0;\n\t\t//   function incr () {\n\t\t//     exports.count += 1;\n\t\t//   }\n\t\t//   exports.incr = incr;\n\t\t//\n\t\t// This doesn't apply if the bundle is exported as ES6!\n\t\tlet allBundleExports = blank();\n\t\tlet isReassignedVarDeclaration = blank();\n\t\tlet varExports = blank();\n\t\tlet getterExports = [];\n\n\t\tthis.orderedModules.forEach( module => {\n\t\t\tmodule.reassignments.forEach( name => {\n\t\t\t\tisReassignedVarDeclaration[ module.locals.lookup( name ).name ] = true;\n\t\t\t});\n\t\t});\n\n\t\tif ( format !== 'es6' && exportMode === 'named' ) {\n\t\t\tthis.exports.getNames()\n\t\t\t\t.forEach( name => {\n\t\t\t\t\tconst canonicalName = this.exports.lookup( name ).name;\n\n\t\t\t\t\tif ( isReassignedVarDeclaration[ canonicalName ] ) {\n\t\t\t\t\t\tvarExports[ name ] = true;\n\n\t\t\t\t\t\t// if the same binding is exported multiple ways, we need to\n\t\t\t\t\t\t// use getters to keep all exports in sync\n\t\t\t\t\t\tif ( allBundleExports[ canonicalName ] ) {\n\t\t\t\t\t\t\tgetterExports.push({ key: name, value: allBundleExports[ canonicalName ] });\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tallBundleExports[ canonicalName ] = `exports.${name}`;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t}\n\n\t\t// since we're rewriting variable exports, we want to\n\t\t// ensure we don't try and export them again at the bottom\n\t\tthis.toExport = this.exports.getNames()\n\t\t\t.filter( key => !varExports[ key ] );\n\n\t\tlet magicString = new MagicString.Bundle({ separator: '\\n\\n' });\n\n\t\tthis.orderedModules.forEach( module => {\n\t\t\tconst source = module.render( allBundleExports, format === 'es6' );\n\t\t\tif ( source.toString().length ) {\n\t\t\t\tmagicString.addSource( source );\n\t\t\t}\n\t\t});\n\n\t\t// prepend bundle with internal namespaces\n\t\tconst indentString = getIndentString( magicString, options );\n\n\t\tconst namespaceBlock = this.modules.filter( module => module.needsDynamicAccess ).map( module => {\n\t\t\tconst exports = module.exports.getNames().map( name => {\n\t\t\t\tconst id = module.exports.lookup( name );\n\t\t\t\treturn `${indentString}get ${name} () { return ${id.name}; }`;\n\t\t\t});\n\n\t\t\treturn `var ${module.name} = {\\n` +\n\t\t\t\texports.join( ',\\n' ) +\n\t\t\t`\\n};\\n\\n`;\n\t\t}).join( '' );\n\n\t\tmagicString.prepend( namespaceBlock );\n\n\t\tif ( getterExports.length ) {\n\t\t\t// TODO offer ES3-safe (but not spec-compliant) alternative?\n\t\t\tconst getterExportsBlock = `Object.defineProperties(exports, {\\n` +\n\t\t\t\tgetterExports.map( ({ key, value }) => indentString + `${key}: { get: function () { return ${value}; } }` ).join( ',\\n' ) +\n\t\t\t`\\n});`;\n\n\t\t\tmagicString.append( '\\n\\n' + getterExportsBlock );\n\t\t}\n\n\t\tconst finalise = finalisers[ format ];\n\n\t\tif ( !finalise ) {\n\t\t\tthrow new Error( `You must specify an output type - valid options are ${keys( finalisers ).join( ', ' )}` );\n\t\t}\n\n\t\tmagicString = finalise( this, magicString.trim(), { exportMode, indentString }, options );\n\n\t\tif ( options.banner ) magicString.prepend( options.banner + '\\n' );\n\t\tif ( options.footer ) magicString.append( '\\n' + options.footer );\n\n\t\tconst code = magicString.toString();\n\t\tlet map = null;\n\n\t\tif ( options.sourceMap ) {\n\t\t\tconst file = options.sourceMapFile || options.dest;\n\t\t\tmap = magicString.generateMap({\n\t\t\t\tincludeContent: true,\n\t\t\t\tfile\n\t\t\t\t// TODO\n\t\t\t});\n\n\t\t\tmap.sources = map.sources.map( unixizePath );\n\t\t}\n\n\t\treturn { code, map };\n\t}\n\n\tsort () {\n\t\t// Set of visited module ids.\n\t\tlet seen = blank();\n\n\t\tlet ordered = [];\n\t\tlet hasCycles;\n\n\t\t// Map from module id to list of modules.\n\t\tlet strongDeps = blank();\n\n\t\t// Map from module id to boolean.\n\t\tlet stronglyDependsOn = blank();\n\n\t\tfunction visit ( module ) {\n\t\t\tseen[ module.id ] = true;\n\n\t\t\tconst { strongDependencies, weakDependencies } = module.consolidateDependencies();\n\n\t\t\tstrongDeps[ module.id ] = [];\n\t\t\tstronglyDependsOn[ module.id ] = {};\n\n\t\t\tkeys( strongDependencies ).forEach( id => {\n\t\t\t\tconst imported = strongDependencies[ id ];\n\n\t\t\t\tstrongDeps[ module.id ].push( imported );\n\n\t\t\t\tif ( seen[ id ] ) {\n\t\t\t\t\t// we need to prevent an infinite loop, and note that\n\t\t\t\t\t// we need to check for strong/weak dependency relationships\n\t\t\t\t\thasCycles = true;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tvisit( imported );\n\t\t\t});\n\n\t\t\tkeys( weakDependencies ).forEach( id => {\n\t\t\t\tconst imported = weakDependencies[ id ];\n\n\t\t\t\tif ( seen[ id ] ) {\n\t\t\t\t\t// we need to prevent an infinite loop, and note that\n\t\t\t\t\t// we need to check for strong/weak dependency relationships\n\t\t\t\t\thasCycles = true;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tvisit( imported );\n\t\t\t});\n\n\t\t\t// add second (and third...) order dependencies\n\t\t\tfunction addStrongDependencies ( dependency ) {\n\t\t\t\tif ( stronglyDependsOn[ module.id ][ dependency.id ] ) return;\n\n\t\t\t\tstronglyDependsOn[ module.id ][ dependency.id ] = true;\n\t\t\t\tstrongDeps[ dependency.id ].forEach( addStrongDependencies );\n\t\t\t}\n\n\t\t\tstrongDeps[ module.id ].forEach( addStrongDependencies );\n\n\t\t\tordered.push( module );\n\t\t}\n\n\t\tvisit( this.entryModule );\n\n\t\tif ( hasCycles ) {\n\t\t\tlet unordered = ordered;\n\t\t\tordered = [];\n\n\t\t\t// unordered is actually semi-ordered, as [ fewer dependencies ... more dependencies ]\n\t\t\tunordered.forEach( module => {\n\t\t\t\t// ensure strong dependencies of `module` that don't strongly depend on `module` go first\n\t\t\t\tstrongDeps[ module.id ].forEach( place );\n\n\t\t\t\tfunction place ( dep ) {\n\t\t\t\t\tif ( !stronglyDependsOn[ dep.id ][ module.id ] && !~ordered.indexOf( dep ) ) {\n\t\t\t\t\t\tstrongDeps[ dep.id ].forEach( place );\n\t\t\t\t\t\tordered.push( dep );\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif ( !~ordered.indexOf( module ) ) {\n\t\t\t\t\tordered.push( module );\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\treturn ordered;\n\t}\n}\n","import { readFileSync } from 'sander';\n\nexport function defaultLoader ( id, options ) {\n\t// TODO support plugins e.g. !css and !json?\n\tconst source = readFileSync( id, { encoding: 'utf-8' });\n\n\treturn options.transform.reduce( ( source, transformer ) => {\n\t\treturn transformer( source, id );\n\t}, source );\n}\n","import { absolutePath, dirname, isAbsolute, resolve } from './path';\nimport { readdirSync, readFileSync } from 'sander';\n\nfunction dirExists ( dir ) {\n\ttry {\n\t\treaddirSync( dir );\n\t\treturn true;\n\t} catch ( err ) {\n\t\treturn false;\n\t}\n}\n\nexport function defaultResolver ( importee, importer, options ) {\n\t// absolute paths are left untouched\n\tif ( isAbsolute( importee ) ) return importee;\n\n\t// if this is the entry point, resolve against cwd\n\tif ( importer === undefined ) return resolve( process.cwd(), importee );\n\n\t// we try to resolve external modules\n\tif ( importee[0] !== '.' ) {\n\t\tconst [ id ] = importee.split( /[\\/\\\\]/ );\n\n\t\t// unless we want to keep it external, that is\n\t\tif ( ~options.external.indexOf( id ) ) return null;\n\n\t\treturn options.resolveExternal( importee, importer, options );\n\t}\n\n\treturn resolve( dirname( importer ), importee ).replace( /\\.js$/, '' ) + '.js';\n}\n\nexport function defaultExternalResolver ( id, importer ) {\n\t// for now, only node_modules is supported, and only jsnext:main\n\tconst root = absolutePath.exec( importer )[0];\n\tlet dir = dirname( importer );\n\n\t// `foo` should use jsnext:main, but `foo/src/bar` shouldn't\n\tconst parts = id.split( /[\\/\\\\]/ );\n\n\twhile ( dir !== root && dir !== '.' ) {\n\t\tconst modulePath = resolve( dir, 'node_modules', parts[0] );\n\n\t\tif ( dirExists( modulePath ) ) {\n\t\t\t// `foo/src/bar`\n\t\t\tif ( parts.length > 1 ) {\n\t\t\t\treturn resolve( modulePath, ...parts.slice( 1 ) ).replace( /\\.js$/, '' ) + '.js';\n\t\t\t}\n\n\t\t\t// `foo`\n\t\t\tconst pkgPath = resolve( modulePath, 'package.json' );\n\t\t\tlet pkg;\n\n\t\t\ttry {\n\t\t\t\tpkg = JSON.parse( readFileSync( pkgPath ).toString() );\n\t\t\t} catch ( err ) {\n\t\t\t\tthrow new Error( `Missing or malformed package.json: ${modulePath}` );\n\t\t\t}\n\n\t\t\tconst main = pkg[ 'jsnext:main' ];\n\n\t\t\tif ( !main ) {\n\t\t\t\tthrow new Error( `Package ${id} (imported by ${importer}) does not have a jsnext:main field, and so cannot be included in your rollup. Try adding it as an external module instead (e.g. options.external = ['${id}']). See https://github.com/rollup/rollup/wiki/jsnext:main for more info` );\n\t\t\t}\n\n\t\t\treturn resolve( dirname( pkgPath ), main ).replace( /\\.js$/, '' ) + '.js';\n\t\t}\n\n\t\tdir = dirname( dir );\n\t}\n\n\tthrow new Error( `Could not find package ${id} (required by ${importer})` );\n}\n","export default function ensureArray ( thing ) {\n\tif ( Array.isArray( thing ) ) return thing;\n\tif ( thing == undefined ) return [];\n\treturn [ thing ];\n}\n","import { blank, keys } from './utils/object';\n\n// A minimal `Identifier` implementation. Anything that has an `originalName`,\n// and a mutable `name` property can be used as an `Identifier`.\nclass Identifier {\n\tconstructor ( name ) {\n\t\tthis.originalName = this.name = name;\n\t}\n\n\tmark () {\n\t\t// noop\n\t}\n}\n\n// A reference to an `Identifier`.\nfunction Reference ( scope, index ) {\n\tthis.scope = scope;\n\tthis.index = index;\n}\n\n// Dereferences a `Reference`.\nfunction dereference ( ref ) {\n\treturn ref.scope.ids[ ref.index ];\n}\n\nfunction isntReference ( id ) {\n\treturn !( id instanceof Reference );\n}\n\n// Prefix the argument with '_'.\nfunction underscorePrefix ( x ) {\n\treturn '_' + x;\n}\n\n// ## Scope\n// A Scope is a mapping from string names to `Identifiers`.\nexport default class Scope {\n\tconstructor ( parent ) {\n\t\tthis.ids = [];\n\t\tthis.names = blank();\n\n\t\tthis.parent = parent || null;\n\t\tthis.used = blank();\n\t}\n\n\t// Binds the `name` to the given reference `ref`.\n\tbind ( name, ref ) {\n\t\tthis.ids[ this.index( name ) ] = ref;\n\t}\n\n\t// Deconflict all names within the scope,\n\t// using the given renaming function.\n\t// If no function is supplied, `underscorePrefix` is used.\n\tdeconflict ( rename = underscorePrefix ) {\n\t\tconst names = this.used;\n\n\t\tthis.ids.filter( ref => ref instanceof Reference ).forEach( ref => {\n\t\t\t// Same scope.\n\t\t\tif ( ref.scope.ids === this.ids ) return;\n\n\t\t\t// Another scope!\n\t\t\twhile ( ref instanceof Reference ) {\n\t\t\t\tref = dereference( ref );\n\t\t\t}\n\n\t\t\tnames[ ref.name ] = ref;\n\t\t});\n\n\t\tthis.ids.filter( isntReference ).forEach( id => {\n\t\t\tif ( typeof id === 'string' ) {\n\t\t\t\tthrow new Error( `Required name \"${id}\" is undefined!` );\n\t\t\t}\n\n\t\t\tlet name = id.name;\n\n\t\t\twhile ( name in names && names[ name ] !== id ) {\n\t\t\t\tname = rename( name );\n\t\t\t}\n\t\t\tnames[ name ] = id;\n\n\t\t\tid.name = name;\n\t\t});\n\t}\n\n\t// Defines `name` in the scope to be `id`.\n\t// If no `id` is supplied, a plain `Identifier` is created.\n\tdefine ( name, id ) {\n\t\tthis.ids[ this.index( name ) ] = id || new Identifier( name );\n\t}\n\n\t// TODO: rename! Too similar to `define`.\n\tdefines ( name ) {\n\t\treturn name in this.names;\n\t}\n\n\t// Return the names referenced to in the scope.\n\tgetNames () {\n\t\treturn keys( this.names );\n\t}\n\n\t// *private, don't use*\n\t//\n\t// Return `name`'s index in the `ids` array if it exists,\n\t// otherwise returns the index to a new placeholder slot.\n\tindex ( name ) {\n\t\tif ( !( name in this.names ) ) {\n\t\t\treturn this.names[ name ] = this.ids.push( name ) - 1;\n\t\t}\n\n\t\treturn this.names[ name ];\n\t}\n\n\t// Returns true if `name` is in Scope.\n\tinScope ( name ) {\n\t\tif ( name in this.names ) return true;\n\n\t\treturn this.parent ? this.parent.inScope( name ) : false;\n\t}\n\n\t// Returns a list of `[ name, identifier ]` tuples.\n\tgetIds () {\n\t\treturn keys( this.names ).map( name => this.lookup( name ) );\n\t}\n\n\t// Lookup the identifier referred to by `name`.\n\tlookup ( name ) {\n\t\tif ( !( name in this.names ) && this.parent ) {\n\t\t\treturn this.parent.lookup( name );\n\t\t}\n\n\t\tlet id = this.ids[ this.names[ name ] ];\n\n\t\twhile ( id instanceof Reference ) {\n\t\t\tid = dereference( id );\n\t\t}\n\n\t\treturn id;\n\t}\n\n\t// Get a reference to the identifier `name` in this scope.\n\treference ( name ) {\n\t\treturn new Reference( this, this.index( name ) );\n\t}\n\n\t// Return the used names of the scope.\n\t// Names aren't considered used unless they're deconflicted.\n\tusedNames () {\n\t\treturn keys( this.used ).sort();\n\t}\n\n\t// Create and return a virtual `Scope` instance, bound to\n\t// the actual scope of `this`, optionally inherit the parent scope.\n\tvirtual ( inheritParent ) {\n\t\tconst scope = new Scope( inheritParent ? this.parent : null );\n\t\tscope.ids = this.ids;\n\t\treturn scope;\n\t}\n}\n","import { basename, extname } from './utils/path';\nimport { parse } from 'acorn';\nimport MagicString from 'magic-string';\nimport Statement from './Statement';\nimport walk from './ast/walk';\nimport { blank, keys } from './utils/object';\nimport getLocation from './utils/getLocation';\nimport makeLegalIdentifier from './utils/makeLegalIdentifier';\nimport SOURCEMAPPING_URL from './utils/sourceMappingURL';\n\nfunction isEmptyExportedVarDeclaration ( node, exports, toExport ) {\n\tif ( node.type !== 'VariableDeclaration' || node.declarations[0].init ) return false;\n\n\tconst name = node.declarations[0].id.name;\n\n\tconst id = exports.lookup( name );\n\n\treturn id && id.name in toExport;\n}\n\nfunction removeSourceMappingURLComments ( source, magicString ) {\n\tconst SOURCEMAPPING_URL_PATTERN = new RegExp( `\\\\/\\\\/#\\\\s+${SOURCEMAPPING_URL}=.+\\\\n?`, 'g' );\n\tlet match;\n\n\twhile ( match = SOURCEMAPPING_URL_PATTERN.exec( source ) ) {\n\t\tmagicString.remove( match.index, match.index + match[0].length );\n\t}\n}\n\nfunction assign ( target, source ) {\n\tfor ( let key in source ) target[ key ] = source[ key ];\n}\n\nclass Id {\n\tconstructor ( module, name, statement ) {\n\t\tthis.originalName = this.name = name;\n\t\tthis.module = module;\n\t\tthis.statement = statement;\n\n\t\tthis.modifierStatements = [];\n\n\t\t// modifiers\n\t\tthis.isUsed = false;\n\t}\n\n\tmark () {\n\t\tthis.isUsed = true;\n\t\tthis.statement.mark();\n\t\tthis.modifierStatements.forEach( stmt => stmt.mark() );\n\t}\n}\n\nexport default class Module {\n\tconstructor ({ id, source, ast, bundle }) {\n\t\tthis.source = source;\n\n\t\tthis.bundle = bundle;\n\t\tthis.id = id;\n\t\tthis.module = this;\n\t\tthis.isModule = true;\n\n\t\t// Implement Identifier interface.\n\t\tthis.name = makeLegalIdentifier( basename( id ).slice( 0, -extname( id ).length ) );\n\n\t\t// HACK: If `id` isn't a path, the above code yields the empty string.\n\t\tif ( !this.name ) {\n\t\t\tthis.name = makeLegalIdentifier( id );\n\t\t}\n\n\t\t// By default, `id` is the filename. Custom resolvers and loaders\n\t\t// can change that, but it makes sense to use it for the source filename\n\t\tthis.magicString = new MagicString( source, {\n\t\t\tfilename: id\n\t\t});\n\n\t\tremoveSourceMappingURLComments( source, this.magicString );\n\n\t\tthis.comments = [];\n\n\t\tthis.statements = this.parse( ast );\n\n\t\t// all dependencies\n\t\tthis.resolvedIds = blank();\n\n\t\t// Virtual scopes for the local and exported names.\n\t\tthis.locals = bundle.scope.virtual( true );\n\t\tthis.exports = bundle.scope.virtual( false );\n\n\t\tconst { reference, inScope } = this.exports;\n\n\t\tthis.exports.reference = name => {\n\t\t\t// If we have it, grab it.\n\t\t\tif ( inScope.call( this.exports, name ) ) {\n\t\t\t\treturn reference.call( this.exports, name );\n\t\t\t}\n\n\t\t\t// ... otherwise search allExportsFrom\n\t\t\tfor ( let i = 0; i < this.allExportsFrom.length; i += 1 ) {\n\t\t\t\tconst module = this.allExportsFrom[i];\n\t\t\t\tif ( module.exports.inScope( name ) ) {\n\t\t\t\t\treturn module.exports.reference( name );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// throw new Error( `The name \"${name}\" is never exported (from ${this.id})!` );\n\t\t\treturn reference.call( this.exports, name );\n\t\t};\n\n\t\tthis.exports.inScope = name => {\n\t\t\tif ( inScope.call( this.exports, name ) ) return true;\n\n\t\t\treturn this.allExportsFrom.some( module => module.exports.inScope( name ) );\n\t\t};\n\n\t\t// Create a unique virtual scope for references to the module.\n\t\t// const unique = bundle.scope.virtual();\n\t\t// unique.define( this.name, this );\n\t\t// this.reference = unique.reference( this.name );\n\n\t\t// As far as we know, all our exported bindings have been resolved.\n\t\tthis.allExportsResolved = true;\n\t\tthis.allExportsFrom = [];\n\n\t\tthis.reassignments = [];\n\n\t\t// TODO: change to false, and detect when it's necessary.\n\t\tthis.needsDynamicAccess = false;\n\n\t\tthis.dependencies = this.collectDependencies();\n\t}\n\n\taddExport ( statement ) {\n\t\tconst node = statement.node;\n\t\tconst source = node.source && node.source.value;\n\n\t\t// export { name } from './other'\n\t\tif ( source ) {\n\t\t\tconst module = this.getModule( source );\n\n\t\t\tif ( node.type === 'ExportAllDeclaration' ) {\n\t\t\t\t// Store `export * from '...'` statements in an array of delegates.\n\t\t\t\t// When an unknown import is encountered, we see if one of them can satisfy it.\n\n\t\t\t\tif ( module.isExternal ) {\n\t\t\t\t\tlet err = new Error( `Cannot trace 'export *' references through external modules.` );\n\t\t\t\t\terr.file = this.id;\n\t\t\t\t\terr.loc = getLocation( this.source, node.start );\n\t\t\t\t\tthrow err;\n\t\t\t\t}\n\n\t\t\t\t// It seems like we must re-export all exports from another module...\n\t\t\t\tthis.allExportsResolved = false;\n\n\t\t\t\tif ( !~this.allExportsFrom.indexOf( module ) ) {\n\t\t\t\t\tthis.allExportsFrom.push( module );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\telse {\n\t\t\t\tnode.specifiers.forEach( specifier => {\n\t\t\t\t\t// Bind the export of this module, to the export of the other.\n\t\t\t\t\tthis.exports.bind( specifier.exported.name,\n\t\t\t\t\t\tmodule.exports.reference( specifier.local.name ) );\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\t// export default function foo () {}\n\t\t// export default foo;\n\t\t// export default 42;\n\t\telse if ( node.type === 'ExportDefaultDeclaration' ) {\n\t\t\tconst isDeclaration = /Declaration$/.test( node.declaration.type );\n\t\t\tconst isAnonymous = /(?:Class|Function)Expression$/.test( node.declaration.type );\n\n\t\t\tconst identifier = isDeclaration ?\n\t\t\t\tnode.declaration.id.name :\n\t\t\t\tnode.declaration.type === 'Identifier' ?\n\t\t\t\t\tnode.declaration.name :\n\t\t\t\t\tnull;\n\t\t\tconst name = identifier || this.name;\n\n\t\t\t// Always define a new `Identifier` for the default export.\n\t\t\tconst id = new Id( this, name, statement );\n\n\t\t\t// Keep the identifier name, if one exists.\n\t\t\t// We can optimize the newly created default `Identifier` away,\n\t\t\t// if it is never modified.\n\t\t\t// in case of `export default foo; foo = somethingElse`\n\t\t\tassign( id, { isDeclaration, isAnonymous, identifier } );\n\n\t\t\tthis.exports.define( 'default', id );\n\t\t}\n\n\t\t// export { foo, bar, baz }\n\t\t// export var foo = 42;\n\t\t// export function foo () {}\n\t\telse if ( node.type === 'ExportNamedDeclaration' ) {\n\t\t\tif ( node.specifiers.length ) {\n\t\t\t\t// export { foo, bar, baz }\n\t\t\t\tnode.specifiers.forEach( specifier => {\n\t\t\t\t\tconst localName = specifier.local.name;\n\t\t\t\t\tconst exportedName = specifier.exported.name;\n\n\t\t\t\t\tthis.exports.bind( exportedName, this.locals.reference( localName ) );\n\t\t\t\t});\n\t\t\t}\n\n\t\t\telse {\n\t\t\t\tlet declaration = node.declaration;\n\n\t\t\t\tlet name;\n\n\t\t\t\tif ( declaration.type === 'VariableDeclaration' ) {\n\t\t\t\t\t// export var foo = 42\n\t\t\t\t\tname = declaration.declarations[0].id.name;\n\t\t\t\t} else {\n\t\t\t\t\t// export function foo () {}\n\t\t\t\t\tname = declaration.id.name;\n\t\t\t\t}\n\n\t\t\t\tthis.locals.define( name, new Id( this, name, statement ) );\n\t\t\t\tthis.exports.bind( name, this.locals.reference( name ) );\n\t\t\t}\n\t\t}\n\t}\n\n\taddImport ( statement ) {\n\t\tconst node = statement.node;\n\t\tconst module = this.getModule( node.source.value );\n\n\t\tnode.specifiers.forEach( specifier => {\n\t\t\tconst isDefault = specifier.type === 'ImportDefaultSpecifier';\n\t\t\tconst isNamespace = specifier.type === 'ImportNamespaceSpecifier';\n\n\t\t\tconst localName = specifier.local.name;\n\n\t\t\tif ( this.locals.defines( localName ) ) {\n\t\t\t\tconst err = new Error( `Duplicated import '${localName}'` );\n\t\t\t\terr.file = this.id;\n\t\t\t\terr.loc = getLocation( this.source, specifier.start );\n\t\t\t\tthrow err;\n\t\t\t}\n\n\t\t\tif ( isNamespace ) {\n\t\t\t\t// If it's a namespace import, we bind the localName to the module itself.\n\t\t\t\tmodule.needsAll = true;\n\t\t\t\tmodule.name = localName;\n\t\t\t\tthis.locals.bind( localName, module );\n\t\t\t} else {\n\t\t\t\tconst name = isDefault ? 'default' : specifier.imported.name;\n\n\t\t\t\tthis.locals.bind( localName, module.exports.reference( name ) );\n\n\t\t\t\t// For compliance with earlier Rollup versions.\n\t\t\t\t// If the module is external, and we access the default.\n\t\t\t\t// Rewrite the module name, and the default name to the\n\t\t\t\t// `localName` we use for it.\n\t\t\t\tif ( module.isExternal && isDefault ) {\n\t\t\t\t\tconst id = module.exports.lookup( name );\n\t\t\t\t\tmodule.name = id.name = localName;\n\t\t\t\t\tid.name += '__default';\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\n\tanalyse () {\n\t\t// discover this module's imports and exports\n\t\tthis.statements.forEach( statement => {\n\t\t\tif ( statement.isImportDeclaration ) this.addImport( statement );\n\t\t\telse if ( statement.isExportDeclaration ) this.addExport( statement );\n\n\t\t\tstatement.analyse();\n\n\t\t\t// consolidate names that are defined/modified in this module\n\t\t\tkeys( statement.defines ).forEach( name => {\n\t\t\t\tthis.locals.define( name, new Id( this, name, statement ) );\n\t\t\t});\n\t\t});\n\n\t\t// If all exports aren't resolved, but all our delegate modules are...\n\t\tif ( !this.allExportsResolved && this.allExportsFrom.every( module => module.allExportsResolved )) {\n\t\t\t// .. then all our exports should be as well.\n\t\t\tthis.allExportsResolved = true;\n\n\t\t\t// For all modules we export all from, iterate through its exported names.\n\t\t\t// If we don't already define the binding 'name',\n\t\t\t// bind the name to the other module's reference.\n\t\t\tthis.allExportsFrom.forEach( module => {\n\t\t\t\tmodule.exports.getNames().forEach( name => {\n\t\t\t\t\tif ( !this.exports.defines( name ) ) {\n\t\t\t\t\t\tthis.exports.bind( name, module.exports.reference( name ) );\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\n\t\t// discover variables that are reassigned inside function\n\t\t// bodies, so we can keep bindings live, e.g.\n\t\t//\n\t\t//   export var count = 0;\n\t\t//   export function incr () { count += 1 }\n\t\tlet reassigned = blank();\n\t\tthis.statements.forEach( statement => {\n\t\t\tkeys( statement.reassigns ).forEach( name => {\n\t\t\t\treassigned[ name ] = true;\n\t\t\t});\n\t\t});\n\n\t\t// if names are referenced that are neither defined nor imported\n\t\t// in this module, we assume that they're globals\n\t\tthis.statements.forEach( statement => {\n\t\t\tif ( statement.isReexportDeclaration ) return;\n\n\t\t\t// while we're here, mark reassignments\n\t\t\tstatement.scope.varDeclarations.forEach( name => {\n\t\t\t\tif ( reassigned[ name ] && !~this.reassignments.indexOf( name ) ) {\n\t\t\t\t\tthis.reassignments.push( name );\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tkeys( statement.dependsOn ).forEach( name => {\n\t\t\t\t// For each name we depend on that isn't in scope,\n\t\t\t\t// add a new global and bind the local name to it.\n\t\t\t\tif ( !this.locals.inScope( name ) ) {\n\t\t\t\t\tthis.bundle.globals.define( name, {\n\t\t\t\t\t\toriginalName: name,\n\t\t\t\t\t\tname,\n\t\t\t\t\t\tmark () {}\n\t\t\t\t\t});\n\t\t\t\t\tthis.locals.bind( name, this.bundle.globals.reference( name ) );\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\n\t\t// OPTIMIZATION!\n\t\t// If we have a default export and it's value is never modified,\n\t\t// bind to it directly.\n\t\tconst def = this.exports.lookup( 'default' );\n\t\tif ( def && !def.isModified && def.identifier ) {\n\t\t\tthis.exports.bind( 'default', this.locals.reference( def.identifier ) );\n\t\t}\n\t}\n\n\t// Returns the set of imported module ids by going through all import/exports statements.\n\tcollectDependencies () {\n\t\tconst importedModules = blank();\n\n\t\tthis.statements.forEach( statement => {\n\t\t\tif ( statement.isImportDeclaration || ( statement.isExportDeclaration && statement.node.source ) ) {\n\t\t\t\timportedModules[ statement.node.source.value ] = true;\n\t\t\t}\n\t\t});\n\n\t\treturn keys( importedModules );\n\t}\n\n\tconsolidateDependencies () {\n\t\tlet strongDependencies = blank();\n\n\t\tfunction addDependency ( dependencies, declaration ) {\n\t\t\tif ( declaration && declaration.module && !declaration.module.isExternal ) {\n\t\t\t\tdependencies[ declaration.module.id ] = declaration.module;\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\tthis.statements.forEach( statement => {\n\t\t\tif ( statement.isImportDeclaration && !statement.node.specifiers.length ) {\n\t\t\t\t// include module for its side-effects\n\t\t\t\tconst module = this.getModule( statement.node.source.value );\n\n\t\t\t\tif ( !module.isExternal ) strongDependencies[ module.id ] = module;\n\t\t\t}\n\n\t\t\telse if ( statement.isReexportDeclaration ) {\n\t\t\t\tif ( statement.node.specifiers ) {\n\t\t\t\t\tstatement.node.specifiers.forEach( specifier => {\n\t\t\t\t\t\tlet name = specifier.exported.name;\n\n\t\t\t\t\t\tlet id = this.exports.lookup( name );\n\n\t\t\t\t\t\taddDependency( strongDependencies, id );\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\n\t\t\telse {\n\t\t\t\tkeys( statement.stronglyDependsOn ).forEach( name => {\n\t\t\t\t\tif ( statement.defines[ name ] ) return;\n\n\t\t\t\t\taddDependency( strongDependencies, this.locals.lookup( name ) );\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\n\t\tlet weakDependencies = blank();\n\n\t\tthis.statements.forEach( statement => {\n\t\t\tkeys( statement.dependsOn ).forEach( name => {\n\t\t\t\tif ( statement.defines[ name ] ) return;\n\n\t\t\t\taddDependency( weakDependencies, this.locals.lookup( name ) );\n\t\t\t});\n\t\t});\n\n\t\t// Go through all our local and exported ids and make us depend on\n\t\t// the defining modules as well as\n\t\tthis.exports.getIds().concat(this.locals.getIds()).forEach( id => {\n\t\t\tif ( id.module && !id.module.isExternal ) {\n\t\t\t\tweakDependencies[ id.module.id ] = id.module;\n\t\t\t}\n\n\t\t\tif ( !id.modifierStatements ) return;\n\n\t\t\tid.modifierStatements.forEach( statement => {\n\t\t\t\tconst module = statement.module;\n\t\t\t\tweakDependencies[ module.id ] = module;\n\t\t\t});\n\t\t});\n\n\t\t// `Bundle.sort` gets stuck in an infinite loop if a module has\n\t\t// `strongDependencies` to itself. Make sure it doesn't happen.\n\t\tdelete strongDependencies[ this.id ];\n\t\tdelete weakDependencies[ this.id ];\n\n\t\treturn { strongDependencies, weakDependencies };\n\t}\n\n\tgetModule ( source ) {\n\t\treturn this.bundle.moduleById[ this.resolvedIds[ source ] ];\n\t}\n\n\t// If a module is marked, enforce dynamic access of its properties.\n\tmark () {\n\t\tif ( this.needsDynamicAccess ) return;\n\t\tthis.needsDynamicAccess = true;\n\n\t\tthis.markAllExports();\n\t}\n\n\tmarkAllSideEffects () {\n\t\tthis.statements.forEach( statement => {\n\t\t\tstatement.markSideEffect();\n\t\t});\n\t}\n\n\tmarkAllStatements ( isEntryModule ) {\n\t\tthis.statements.forEach( statement => {\n\t\t\tif ( statement.isIncluded ) return; // TODO can this happen? probably not...\n\n\t\t\t// skip import declarations...\n\t\t\tif ( statement.isImportDeclaration ) {\n\t\t\t\t// ...unless they're empty, in which case assume we're importing them for the side-effects\n\t\t\t\t// THIS IS NOT FOOLPROOF. Probably need /*rollup: include */ or similar\n\t\t\t\tif ( !statement.node.specifiers.length ) {\n\t\t\t\t\tconst otherModule = this.getModule( statement.node.source.value );\n\n\t\t\t\t\tif ( !otherModule.isExternal ) otherModule.markAllStatements();\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// skip `export { foo, bar, baz }`...\n\t\t\telse if ( statement.node.type === 'ExportNamedDeclaration' && statement.node.specifiers.length ) {\n\t\t\t\t// ...but ensure they are defined, if this is the entry module\n\t\t\t\tif ( isEntryModule ) statement.mark();\n\t\t\t}\n\n\t\t\t// include everything else\n\t\t\telse {\n\t\t\t\t// Be sure to mark the default export for the entry module.\n\t\t\t\tif ( isEntryModule && statement.node.type === 'ExportDefaultDeclaration' ) {\n\t\t\t\t\tthis.exports.lookup( 'default' ).mark();\n\t\t\t\t}\n\n\t\t\t\tstatement.mark();\n\t\t\t}\n\t\t});\n\t}\n\n\t// Marks all exported identifiers.\n\tmarkAllExports () {\n\t\tthis.exports.getIds().forEach( id => id.mark() );\n\t}\n\n\tparse ( ast ) {\n\t\t// The ast can be supplied programmatically (but usually won't be)\n\t\tif ( !ast ) {\n\t\t\t// Try to extract a list of top-level statements/declarations. If\n\t\t\t// the parse fails, attach file info and abort\n\t\t\ttry {\n\t\t\t\tast = parse( this.source, {\n\t\t\t\t\tecmaVersion: 6,\n\t\t\t\t\tsourceType: 'module',\n\t\t\t\t\tonComment: ( block, text, start, end ) => this.comments.push({ block, text, start, end })\n\t\t\t\t});\n\t\t\t} catch ( err ) {\n\t\t\t\terr.code = 'PARSE_ERROR';\n\t\t\t\terr.file = this.id; // see above - not necessarily true, but true enough\n\t\t\t\tthrow err;\n\t\t\t}\n\t\t}\n\n\t\twalk( ast, {\n\t\t\tenter: node => {\n\t\t\t\tthis.magicString.addSourcemapLocation( node.start );\n\t\t\t\tthis.magicString.addSourcemapLocation( node.end );\n\t\t\t}\n\t\t});\n\n\t\tlet statements = [];\n\t\tlet lastChar = 0;\n\t\tlet commentIndex = 0;\n\n\t\tast.body.forEach( node => {\n\t\t\t// special case - top-level var declarations with multiple declarators\n\t\t\t// should be split up. Otherwise, we may end up including code we\n\t\t\t// don't need, just because an unwanted declarator is included\n\t\t\tif ( node.type === 'VariableDeclaration' && node.declarations.length > 1 ) {\n\t\t\t\t// remove the leading var/let/const... UNLESS the previous node\n\t\t\t\t// was also a synthetic node, in which case it'll get removed anyway\n\t\t\t\tconst lastStatement = statements[ statements.length - 1 ];\n\t\t\t\tif ( !lastStatement || !lastStatement.node.isSynthetic ) {\n\t\t\t\t\tthis.magicString.remove( node.start, node.declarations[0].start );\n\t\t\t\t}\n\n\t\t\t\tnode.declarations.forEach( declarator => {\n\t\t\t\t\tconst { start, end } = declarator;\n\n\t\t\t\t\tconst syntheticNode = {\n\t\t\t\t\t\ttype: 'VariableDeclaration',\n\t\t\t\t\t\tkind: node.kind,\n\t\t\t\t\t\tstart,\n\t\t\t\t\t\tend,\n\t\t\t\t\t\tdeclarations: [ declarator ],\n\t\t\t\t\t\tisSynthetic: true\n\t\t\t\t\t};\n\n\t\t\t\t\tconst statement = new Statement( syntheticNode, this, start, end );\n\t\t\t\t\tstatements.push( statement );\n\t\t\t\t});\n\n\t\t\t\tlastChar = node.end; // TODO account for trailing line comment\n\t\t\t}\n\n\t\t\telse {\n\t\t\t\tlet comment;\n\t\t\t\tdo {\n\t\t\t\t\tcomment = this.comments[ commentIndex ];\n\t\t\t\t\tif ( !comment ) break;\n\t\t\t\t\tif ( comment.start > node.start ) break;\n\t\t\t\t\tcommentIndex += 1;\n\t\t\t\t} while ( comment.end < lastChar );\n\n\t\t\t\tconst start = comment ? Math.min( comment.start, node.start ) : node.start;\n\t\t\t\tconst end = node.end; // TODO account for trailing line comment\n\n\t\t\t\tconst statement = new Statement( node, this, start, end );\n\t\t\t\tstatements.push( statement );\n\n\t\t\t\tlastChar = end;\n\t\t\t}\n\t\t});\n\n\t\tstatements.forEach( ( statement, i ) => {\n\t\t\tconst nextStatement = statements[ i + 1 ];\n\t\t\tstatement.next = nextStatement ? nextStatement.start : statement.end;\n\t\t});\n\n\t\treturn statements;\n\t}\n\n\trender ( toExport, direct ) {\n\t\tlet magicString = this.magicString.clone();\n\n\t\tthis.statements.forEach( statement => {\n\t\t\tif ( !statement.isIncluded ) {\n\t\t\t\tmagicString.remove( statement.start, statement.next );\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// skip `export { foo, bar, baz }`\n\t\t\tif ( statement.node.type === 'ExportNamedDeclaration' ) {\n\t\t\t\t// skip `export { foo, bar, baz }`\n\t\t\t\tif ( statement.node.specifiers.length ) {\n\t\t\t\t\tmagicString.remove( statement.start, statement.next );\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t// skip `export var foo;` if foo is exported\n\t\t\t\tif ( isEmptyExportedVarDeclaration( statement.node.declaration, this.exports, toExport ) ) {\n\t\t\t\t\tmagicString.remove( statement.start, statement.next );\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// skip empty var declarations for exported bindings\n\t\t\t// (otherwise we're left with `exports.foo;`, which is useless)\n\t\t\tif ( isEmptyExportedVarDeclaration( statement.node, this.exports, toExport ) ) {\n\t\t\t\tmagicString.remove( statement.start, statement.next );\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// split up/remove var declarations as necessary\n\t\t\tif ( statement.node.isSynthetic ) {\n\t\t\t\t// insert `var/let/const` if necessary\n\t\t\t\tif ( !toExport[ statement.node.declarations[0].id.name ] ) {\n\t\t\t\t\tmagicString.insert( statement.start, `${statement.node.kind} ` );\n\t\t\t\t}\n\n\t\t\t\tmagicString.overwrite( statement.end, statement.next, ';\\n' ); // TODO account for trailing newlines\n\t\t\t}\n\n\t\t\tlet replacements = blank();\n\t\t\tlet bundleExports = blank();\n\n\t\t\t// Indirect identifier access.\n\t\t\tif ( !direct ) {\n\t\t\t\tkeys( statement.dependsOn )\n\t\t\t\t\t.forEach( name => {\n\t\t\t\t\t\tconst id = this.locals.lookup( name );\n\n\t\t\t\t\t\t// We shouldn't create a replacement for `id` if\n\t\t\t\t\t\t//   1. `id` is a Global, in which case it has no module property\n\t\t\t\t\t\t//   2. `id.module` isn't external, which means we have direct access\n\t\t\t\t\t\t//   3. `id` is its own module, in the case of namespace imports\n\t\t\t\t\t\tif ( id.module && id.module.isExternal && id.module !== id ) {\n\t\t\t\t\t\t\treplacements[ name ] = id.originalName === 'default' ?\n\t\t\t\t\t\t\t\t// default names are always directly accessed\n\t\t\t\t\t\t\t\tid.name :\n\t\t\t\t\t\t\t\t// other names are indirectly accessed\n\t\t\t\t\t\t\t\t`${id.module.name}.${id.originalName}`;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t}\n\n\t\t\tkeys( statement.dependsOn )\n\t\t\t\t.concat( keys( statement.defines ) )\n\t\t\t\t.forEach( name => {\n\t\t\t\t\tconst bundleName = this.locals.lookup( name ).name;\n\n\t\t\t\t\tif ( toExport[ bundleName ] ) {\n\t\t\t\t\t\tbundleExports[ name ] = replacements[ name ] = toExport[ bundleName ];\n\t\t\t\t\t} else if ( bundleName !== name && !replacements[ name ] ) { // TODO weird structure\n\t\t\t\t\t\treplacements[ name ] = bundleName;\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\tstatement.replaceIdentifiers( magicString, replacements, bundleExports );\n\n\t\t\t// modify exports as necessary\n\t\t\tif ( statement.isExportDeclaration ) {\n\t\t\t\t// remove `export` from `export var foo = 42`\n\t\t\t\tif ( statement.node.type === 'ExportNamedDeclaration' && statement.node.declaration.type === 'VariableDeclaration' ) {\n\t\t\t\t\tmagicString.remove( statement.node.start, statement.node.declaration.start );\n\t\t\t\t}\n\n\t\t\t\telse if ( statement.node.type === 'ExportAllDeclaration' ) {\n\t\t\t\t\t// TODO: remove once `export * from 'external'` is supported.\n\t\t\t\t\tmagicString.remove( statement.start, statement.next );\n\t\t\t\t}\n\n\t\t\t\t// remove `export` from `export class Foo {...}` or `export default Foo`\n\t\t\t\t// TODO default exports need different treatment\n\t\t\t\telse if ( statement.node.declaration.id ) {\n\t\t\t\t\tmagicString.remove( statement.node.start, statement.node.declaration.start );\n\t\t\t\t}\n\n\t\t\t\telse if ( statement.node.type === 'ExportDefaultDeclaration' ) {\n\t\t\t\t\tconst def = this.exports.lookup( 'default' );\n\n\t\t\t\t\t// FIXME: dunno what to do here yet.\n\t\t\t\t\tif ( statement.node.declaration.type === 'Identifier' && def.name === ( replacements[ statement.node.declaration.name ] || statement.node.declaration.name ) ) {\n\t\t\t\t\t\tmagicString.remove( statement.start, statement.next );\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\t// prevent `var undefined = sideEffectyDefault(foo)`\n\t\t\t\t\tif ( !def.isUsed ) {\n\t\t\t\t\t\tmagicString.remove( statement.start, statement.node.declaration.start );\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\t// anonymous functions should be converted into declarations\n\t\t\t\t\tif ( statement.node.declaration.type === 'FunctionExpression' ) {\n\t\t\t\t\t\tmagicString.overwrite( statement.node.start, statement.node.declaration.start + 8, `function ${def.name}` );\n\t\t\t\t\t} else {\n\t\t\t\t\t\tmagicString.overwrite( statement.node.start, statement.node.declaration.start, `var ${def.name} = ` );\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\telse {\n\t\t\t\t\tthrow new Error( 'Unhandled export' );\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\treturn magicString.trim();\n\t}\n}\n","import { blank, keys } from './utils/object';\nimport getLocation from './utils/getLocation';\nimport walk from './ast/walk';\nimport Scope from './ast/Scope';\n\nconst blockDeclarations = {\n\t'const': true,\n\t'let': true\n};\n\nconst modifierNodes = {\n\tAssignmentExpression: 'left',\n\tUpdateExpression: 'argument'\n};\n\nfunction isIife ( node, parent ) {\n\treturn parent && parent.type === 'CallExpression' && node === parent.callee;\n}\n\nfunction isFunctionDeclaration ( node, parent ) {\n\t// `function foo () {}`\n\tif ( node.type === 'FunctionDeclaration' ) return true;\n\n\t// `var foo = function () {}` - same thing for present purposes\n\tif ( node.type === 'FunctionExpression' && parent.type === 'VariableDeclarator' ) return true;\n}\n\nfunction chainedMemberExpression ( node ) {\n\tif ( node.object.type === 'MemberExpression' ) {\n\t\treturn chainedMemberExpression( node.object ) + '.' + node.property.name;\n\t}\n\n\treturn node.object.name + '.' + node.property.name;\n}\n\nexport default class Statement {\n\tconstructor ( node, module, start, end ) {\n\t\tthis.node = node;\n\t\tthis.module = module;\n\t\tthis.start = start;\n\t\tthis.end = end;\n\t\tthis.next = null; // filled in later\n\n\t\tthis.scope = new Scope();\n\t\tthis.defines = blank();\n\t\tthis.dependsOn = blank();\n\t\tthis.stronglyDependsOn = blank();\n\n\t\tthis.reassigns = blank();\n\n\t\t// TODO: make this more efficient\n\t\tthis.dependantIds = [];\n\t\tthis.namespaceReplacements = [];\n\n\t\tthis.isIncluded = false;\n\n\t\tthis.isImportDeclaration = node.type === 'ImportDeclaration';\n\t\tthis.isExportDeclaration = /^Export/.test( node.type );\n\t\tthis.isReexportDeclaration = this.isExportDeclaration && !!node.source;\n\t}\n\n\tanalyse () {\n\t\tif ( this.isImportDeclaration ) return; // nothing to analyse\n\n\t\t// `export { name } from './other'` is a special case\n\t\tif ( this.isReexportDeclaration ) {\n\t\t\tthis.node.specifiers && this.node.specifiers.forEach( specifier => {\n\t\t\t\tconst id = this.module.exports.lookup( specifier.exported.name );\n\n\t\t\t\tif ( !~this.dependantIds.indexOf( id ) ) {\n\t\t\t\t\tthis.dependantIds.push( id );\n\t\t\t\t}\n\t\t\t});\n\n\t\t\treturn;\n\t\t}\n\n\t\tlet scope = this.scope;\n\n\t\twalk( this.node, {\n\t\t\tenter ( node, parent ) {\n\t\t\t\tlet newScope;\n\n\t\t\t\tswitch ( node.type ) {\n\t\t\t\t\tcase 'FunctionDeclaration':\n\t\t\t\t\t\tscope.addDeclaration( node, false, false );\n\n\t\t\t\t\tcase 'BlockStatement':\n\t\t\t\t\t\tif ( parent && /Function/.test( parent.type ) ) {\n\t\t\t\t\t\t\tnewScope = new Scope({\n\t\t\t\t\t\t\t\tparent: scope,\n\t\t\t\t\t\t\t\tblock: false,\n\t\t\t\t\t\t\t\tparams: parent.params\n\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\t// named function expressions - the name is considered\n\t\t\t\t\t\t\t// part of the function's scope\n\t\t\t\t\t\t\tif ( parent.type === 'FunctionExpression' && parent.id ) {\n\t\t\t\t\t\t\t\tnewScope.addDeclaration( parent, false, false );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tnewScope = new Scope({\n\t\t\t\t\t\t\t\tparent: scope,\n\t\t\t\t\t\t\t\tblock: true\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'CatchClause':\n\t\t\t\t\t\tnewScope = new Scope({\n\t\t\t\t\t\t\tparent: scope,\n\t\t\t\t\t\t\tparams: [ node.param ],\n\t\t\t\t\t\t\tblock: true\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'VariableDeclaration':\n\t\t\t\t\t\tnode.declarations.forEach( declarator => {\n\t\t\t\t\t\t\tconst isBlockDeclaration = node.type === 'VariableDeclaration' && blockDeclarations[ node.kind ];\n\t\t\t\t\t\t\tscope.addDeclaration( declarator, isBlockDeclaration, true );\n\t\t\t\t\t\t});\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'ClassDeclaration':\n\t\t\t\t\t\tscope.addDeclaration( node, false, false );\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tif ( newScope ) {\n\t\t\t\t\tObject.defineProperty( node, '_scope', {\n\t\t\t\t\t\tvalue: newScope,\n\t\t\t\t\t\tconfigurable: true\n\t\t\t\t\t});\n\n\t\t\t\t\tscope = newScope;\n\t\t\t\t}\n\t\t\t},\n\t\t\tleave ( node ) {\n\t\t\t\tif ( node._scope ) {\n\t\t\t\t\tscope = scope.parent;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\t// This allows us to track whether we're looking at code that will\n\t\t// be executed immediately (either outside a function, or immediately\n\t\t// inside an IIFE), for the purposes of determining whether dependencies\n\t\t// are strong or weak. It's not bulletproof, since it wouldn't catch...\n\t\t//\n\t\t//    var calledImmediately = function () {\n\t\t//      doSomethingWith( strongDependency );\n\t\t//    }\n\t\t//    calledImmediately();\n\t\t//\n\t\t// ...but it's better than nothing\n\t\tlet readDepth = 0;\n\n\t\t// This allows us to track whether a modifying statement (i.e. assignment\n\t\t// /update expressions) need to be captured\n\t\tlet writeDepth = 0;\n\n\t\t// Used to track\n\t\tlet topName;\n\t\tlet currentMemberExpression = null;\n\t\tlet namespace = null;\n\n\t\tif ( !this.isImportDeclaration ) {\n\t\t\twalk( this.node, {\n\t\t\t\tenter: ( node, parent ) => {\n\t\t\t\t\tif ( isFunctionDeclaration( node, parent ) ) writeDepth += 1;\n\t\t\t\t\tif ( /Function/.test( node.type ) && !isIife( node, parent ) ) readDepth += 1;\n\n\t\t\t\t\tif ( node._scope ) scope = node._scope;\n\n\t\t\t\t\tthis.checkForReads( scope, node, parent, !readDepth );\n\t\t\t\t\tthis.checkForWrites( scope, node, writeDepth );\n\t\t\t\t},\n\t\t\t\tleave: ( node, parent ) => {\n\t\t\t\t\tif ( isFunctionDeclaration( node, parent ) ) writeDepth -= 1;\n\t\t\t\t\tif ( /Function/.test( node.type ) && !isIife( node, parent ) ) readDepth -= 1;\n\n\t\t\t\t\tif ( node._scope ) scope = scope.parent;\n\n\t\t\t\t\t// Optimize namespace lookups, which manifest as MemberExpressions.\n\t\t\t\t\tif ( node.type === 'MemberExpression' && ( !currentMemberExpression || node.object === currentMemberExpression ) ) {\n\t\t\t\t\t\tcurrentMemberExpression = node;\n\n\t\t\t\t\t\tif ( !namespace ) {\n\t\t\t\t\t\t\ttopName = node.object.name;\n\t\t\t\t\t\t\tconst id = this.module.locals.lookup( topName );\n\n\t\t\t\t\t\t\tif ( !id || !id.isModule || id.isExternal ) return;\n\n\t\t\t\t\t\t\tnamespace = id;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// If a namespace is the left hand side of an assignment, throw an error.\n\t\t\t\t\t\tif ( parent.type === 'AssignmentExpression' && parent.left === node ||\n\t\t\t\t\t\t\t\tparent.type === 'UpdateExpression' && parent.argument === node ) {\n\t\t\t\t\t\t\tconst err = new Error( `Illegal reassignment to import '${chainedMemberExpression( node )}'` );\n\t\t\t\t\t\t\terr.file = this.module.id;\n\t\t\t\t\t\t\terr.loc = getLocation( this.module.magicString.toString(), node.start );\n\t\t\t\t\t\t\tthrow err;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Extract the name of the accessed property, from and Identifier or Literal.\n\t\t\t\t\t\t// Any eventual Literal value is converted to a string.\n\t\t\t\t\t\tconst name = !node.computed ? node.property.name :\n\t\t\t\t\t\t\t( node.property.type === 'Literal' ? String( node.property.value ) : null );\n\n\t\t\t\t\t\t// If we can't resolve the name being accessed statically,\n\t\t\t\t\t\t// we mark the whole namespace for inclusion in the bundle.\n\t\t\t\t\t\t//\n\t\t\t\t\t\t//     // resolvable\n\t\t\t\t\t\t//     console.log( javascript.keywords.for )\n\t\t\t\t\t\t//     console.log( javascript.keywords[ 'for' ] )\n\t\t\t\t\t\t//     console.log( javascript.keywords[ 6 ] )\n\t\t\t\t\t\t//\n\t\t\t\t\t\t//     // unresolvable\n\t\t\t\t\t\t//     console.log( javascript.keywords[ index ] )\n\t\t\t\t\t\t//     console.log( javascript.keywords[ 1 + 5 ] )\n\t\t\t\t\t\tif ( name === null ) {\n\t\t\t\t\t\t\tnamespace.mark();\n\n\t\t\t\t\t\t\tnamespace = null;\n\t\t\t\t\t\t\tcurrentMemberExpression = null;\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tconst id = namespace.exports.lookup( name );\n\n\t\t\t\t\t\t// If the namespace doesn't define the given name,\n\t\t\t\t\t\t// we can throw an error (even for nested namespaces).\n\t\t\t\t\t\tif ( !id ) {\n\t\t\t\t\t\t\tthrow new Error( `Module doesn't define \"${name}\"!` );\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// We can't resolve deeper. Replace the member chain.\n\t\t\t\t\t\tif ( parent.type !== 'MemberExpression' || !( id.isModule && !id.isExternal ) ) {\n\t\t\t\t\t\t\tif ( !~this.dependantIds.indexOf( id ) ) {\n\t\t\t\t\t\t\t\tthis.dependantIds.push( id );\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t// FIXME: do this better\n\t\t\t\t\t\t\t// If we depend on this name...\n\t\t\t\t\t\t\tif ( this.dependsOn[ topName ] ) {\n\t\t\t\t\t\t\t\t// ... decrement the count...\n\t\t\t\t\t\t\t\tif ( !--this.dependsOn[ topName ] ) {\n\t\t\t\t\t\t\t\t\t// ... and remove it if the count is 0.\n\t\t\t\t\t\t\t\t\tdelete this.dependsOn[ topName ];\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tthis.namespaceReplacements.push( [ node, id ] );\n\t\t\t\t\t\t\tnamespace = null;\n\t\t\t\t\t\t\tcurrentMemberExpression = null;\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tnamespace = id;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\tkeys( scope.declarations ).forEach( name => {\n\t\t\tthis.defines[ name ] = true;\n\t\t});\n\t}\n\n\tcheckForReads ( scope, node, parent, strong ) {\n\t\tif ( node.type === 'Identifier' ) {\n\t\t\t// disregard the `bar` in `foo.bar` - these appear as Identifier nodes\n\t\t\tif ( parent.type === 'MemberExpression' && !parent.computed && node !== parent.object ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// disregard the `bar` in { bar: foo }\n\t\t\tif ( parent.type === 'Property' && node !== parent.value ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// disregard the `bar` in `class Foo { bar () {...} }`\n\t\t\tif ( parent.type === 'MethodDefinition' ) return;\n\n\t\t\t// disregard the `bar` in `export { foo as bar }`\n\t\t\tif ( parent.type === 'ExportSpecifier' && node !== parent.local ) return;\n\n\t\t\tconst definingScope = scope.findDefiningScope( node.name );\n\n\t\t\tif ( !definingScope || definingScope.depth === 0 ) {\n\t\t\t\tif ( !( node.name in this.dependsOn ) ) {\n\t\t\t\t\tthis.dependsOn[ node.name ] = 0;\n\t\t\t\t}\n\n\t\t\t\tthis.dependsOn[ node.name ]++;\n\t\t\t\tif ( strong ) this.stronglyDependsOn[ node.name ] = true;\n\t\t\t}\n\t\t}\n\t}\n\n\tcheckForWrites ( scope, node, writeDepth ) {\n\t\tconst addNode = ( node, isAssignment ) => {\n\t\t\tlet depth = 0; // determine whether we're illegally modifying a binding or namespace\n\n\t\t\twhile ( node.type === 'MemberExpression' ) {\n\t\t\t\tnode = node.object;\n\t\t\t\tdepth += 1;\n\t\t\t}\n\n\t\t\t// disallow assignments/updates to imported bindings and namespaces\n\t\t\tif ( isAssignment ) {\n\t\t\t\tconst importSpecifier = this.module.locals.lookup( node.name );\n\n\t\t\t\tif ( importSpecifier && importSpecifier.module !== this.module && !scope.contains( node.name ) ) {\n\t\t\t\t\tconst minDepth = importSpecifier.name === '*' ?\n\t\t\t\t\t\t2 : // cannot do e.g. `namespace.foo = bar`\n\t\t\t\t\t\t1;  // cannot do e.g. `foo = bar`, but `foo.bar = bar` is fine\n\n\t\t\t\t\tif ( depth < minDepth ) {\n\t\t\t\t\t\tconst err = new Error( `Illegal reassignment to import '${node.name}'` );\n\t\t\t\t\t\terr.file = this.module.id;\n\t\t\t\t\t\terr.loc = getLocation( this.module.magicString.toString(), node.start );\n\t\t\t\t\t\tthrow err;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// special case = `export default foo; foo += 1;` - we'll\n\t\t\t\t// need to assign a new variable so that the exported\n\t\t\t\t// value is not updated by the second statement\n\t\t\t\tconst def = this.module.exports.lookup( 'default' );\n\t\t\t\tif ( def && depth === 0 && def.name === node.name ) {\n\t\t\t\t\t// but only if this is a) inside a function body or\n\t\t\t\t\t// b) after the export declaration\n\t\t\t\t\tif ( !!scope.parent || node.start > def.statement.node.start ) {\n\t\t\t\t\t\tdef.isModified = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// we track updates/reassignments to variables, to know whether we\n\t\t\t\t// need to rewrite it later from `foo` to `exports.foo` to keep\n\t\t\t\t// bindings live\n\t\t\t\tif (\n\t\t\t\t\tdepth === 0 &&\n\t\t\t\t\twriteDepth > 0 &&\n\t\t\t\t\t!scope.contains( node.name )\n\t\t\t\t) {\n\t\t\t\t\tthis.reassigns[ node.name ] = true;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// we only care about writes that happen a) at the top level,\n\t\t\t// or b) inside a function that could be immediately invoked.\n\t\t\t// Writes inside named functions are only relevant if the\n\t\t\t// function is called, in which case we don't need to do\n\t\t\t// anything (but we still need to call checkForWrites to\n\t\t\t// catch illegal reassignments to imported bindings)\n\t\t\tif ( writeDepth === 0 && node.type === 'Identifier' ) {\n\t\t\t\tconst id = this.module.locals.lookup( node.name );\n\n\t\t\t\tif ( id && id.modifierStatements && !~id.modifierStatements.indexOf( this ) ) {\n\t\t\t\t\tid.modifierStatements.push( this );\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tif ( node.type === 'AssignmentExpression' ) {\n\t\t\taddNode( node.left, true );\n\t\t}\n\n\t\telse if ( node.type === 'UpdateExpression' ) {\n\t\t\taddNode( node.argument, true );\n\t\t}\n\n\t\telse if ( node.type === 'CallExpression' ) {\n\t\t\tnode.arguments.forEach( arg => addNode( arg, false ) );\n\n\t\t\t// `foo.bar()` is assumed to mutate foo\n\t\t\tif ( node.callee.type === 'MemberExpression' ) {\n\t\t\t\taddNode( node.callee );\n\t\t\t}\n\t\t}\n\t}\n\n\tmark () {\n\t\tif ( this.isIncluded ) return; // prevent infinite loops\n\t\tthis.isIncluded = true;\n\n\t\tthis.dependantIds.forEach( id => id.mark() );\n\n\t\t// TODO: perhaps these could also be added?\n\t\tkeys( this.dependsOn ).forEach( name => {\n\t\t\tif ( this.defines[ name ] ) return; // TODO maybe exclude from `this.dependsOn` in the first place?\n\t\t\tthis.module.locals.lookup( name ).mark();\n\t\t});\n\t}\n\n\tmarkSideEffect () {\n\t\tconst statement = this;\n\n\t\twalk( this.node, {\n\t\t\tenter ( node, parent ) {\n\t\t\t\tif ( /Function/.test( node.type ) && !isIife( node, parent ) ) return this.skip();\n\n\t\t\t\t// If this is a top-level call expression, or an assignment to a global,\n\t\t\t\t// this statement will need to be marked\n\t\t\t\tif ( node.type === 'CallExpression' ) {\n\t\t\t\t\tstatement.mark();\n\t\t\t\t}\n\n\t\t\t\telse if ( node.type in modifierNodes ) {\n\t\t\t\t\tlet subject = node[ modifierNodes[ node.type ] ];\n\t\t\t\t\twhile ( subject.type === 'MemberExpression' ) subject = subject.object;\n\n\t\t\t\t\tif ( statement.module.bundle.globals.defines( subject.name ) ) statement.mark();\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\n\treplaceIdentifiers ( magicString, names, bundleExports ) {\n\t\tconst statement = this;\n\n\t\tconst replacementStack = [];\n\t\tconst nameList = keys( names );\n\n\t\tlet deshadowList = [];\n\t\tnameList.forEach( name => {\n\t\t\tconst replacement = names[ name ];\n\t\t\tdeshadowList.push( replacement.split( '.' )[0] );\n\t\t});\n\n\t\tlet topLevel = true;\n\t\tlet depth = 0;\n\n\t\twalk( this.node, {\n\t\t\tenter ( node, parent ) {\n\t\t\t\tif ( node._skip ) return this.skip();\n\n\t\t\t\tif ( /^Function/.test( node.type ) ) depth += 1;\n\n\t\t\t\t// `this` is undefined at the top level of ES6 modules\n\t\t\t\tif ( node.type === 'ThisExpression' && depth === 0 ) {\n\t\t\t\t\tmagicString.overwrite( node.start, node.end, 'undefined', true );\n\t\t\t\t}\n\n\t\t\t\t// special case - variable declarations that need to be rewritten\n\t\t\t\t// as bundle exports\n\t\t\t\tif ( topLevel ) {\n\t\t\t\t\tif ( node.type === 'VariableDeclaration' ) {\n\t\t\t\t\t\t// if this contains a single declarator, and it's one that\n\t\t\t\t\t\t// needs to be rewritten, we replace the whole lot\n\t\t\t\t\t\tconst id = node.declarations[0].id;\n\t\t\t\t\t\tconst name = id.name;\n\n\t\t\t\t\t\tif ( node.declarations.length === 1 && bundleExports[ name ] ) {\n\t\t\t\t\t\t\tmagicString.overwrite( node.start, id.end, bundleExports[ name ], true );\n\t\t\t\t\t\t\tid._skip = true;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// otherwise, we insert the `exports.foo = foo` after the declaration\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tconst exportInitialisers = node.declarations\n\t\t\t\t\t\t\t\t.map( declarator => declarator.id.name )\n\t\t\t\t\t\t\t\t.filter( name => !!bundleExports[ name ] )\n\t\t\t\t\t\t\t\t.map( name => `\\n${bundleExports[name]} = ${name};` )\n\t\t\t\t\t\t\t\t.join( '' );\n\n\t\t\t\t\t\t\tif ( exportInitialisers ) {\n\t\t\t\t\t\t\t\t// TODO clean this up\n\t\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\t\tmagicString.insert( node.end, exportInitialisers );\n\t\t\t\t\t\t\t\t} catch ( err ) {\n\t\t\t\t\t\t\t\t\tmagicString.append( exportInitialisers );\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tconst scope = node._scope;\n\n\t\t\t\tif ( scope ) {\n\t\t\t\t\ttopLevel = false;\n\n\t\t\t\t\tlet newNames = blank();\n\t\t\t\t\tlet hasReplacements;\n\n\t\t\t\t\tkeys( names ).forEach( name => {\n\t\t\t\t\t\tif ( !scope.declarations[ name ] ) {\n\t\t\t\t\t\t\tnewNames[ name ] = names[ name ];\n\t\t\t\t\t\t\thasReplacements = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\t\t\tdeshadowList.forEach( name => {\n\t\t\t\t\t\tif ( scope.declarations[ name ] ) {\n\t\t\t\t\t\t\tnewNames[ name ] = name + '$$'; // TODO better mechanism\n\t\t\t\t\t\t\thasReplacements = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\t\t\tif ( !hasReplacements && depth > 0 ) {\n\t\t\t\t\t\treturn this.skip();\n\t\t\t\t\t}\n\n\t\t\t\t\tnames = newNames;\n\t\t\t\t\treplacementStack.push( newNames );\n\t\t\t\t}\n\n\t\t\t\tif ( node.type === 'MemberExpression' ) {\n\t\t\t\t\tconst replacements = statement.namespaceReplacements;\n\t\t\t\t\tfor ( let i = 0; i < replacements.length; i += 1 ) {\n\t\t\t\t\t\tconst [ top, id ] = replacements[ i ];\n\n\t\t\t\t\t\tif ( node === top ) {\n\t\t\t\t\t\t\tmagicString.overwrite( node.start, node.end, id.name );\n\t\t\t\t\t\t\treturn this.skip();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif ( node.type !== 'Identifier' ) return;\n\n\t\t\t\t// if there's no replacement, or it's the same, there's nothing more to do\n\t\t\t\tconst name = names[ node.name ];\n\t\t\t\tif ( !name || name === node.name ) return;\n\n\t\t\t\t// shorthand properties (`obj = { foo }`) need to be expanded\n\t\t\t\tif ( parent.type === 'Property' && parent.shorthand ) {\n\t\t\t\t\tmagicString.insert( node.end, `: ${name}` );\n\t\t\t\t\tparent.key._skip = true;\n\t\t\t\t\tparent.value._skip = true; // redundant, but defensive\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t// property names etc can be disregarded\n\t\t\t\tif ( parent.type === 'MemberExpression' && !parent.computed && node !== parent.object ) return;\n\t\t\t\tif ( parent.type === 'Property' && node !== parent.value ) return;\n\t\t\t\tif ( parent.type === 'MethodDefinition' && node === parent.key ) return;\n\t\t\t\tif ( parent.type === 'FunctionExpression' ) return;\n\t\t\t\tif ( /Function/.test( parent.type ) && ~parent.params.indexOf( node ) ) return;\n\t\t\t\t// TODO others...?\n\n\t\t\t\t// all other identifiers should be overwritten\n\t\t\t\tmagicString.overwrite( node.start, node.end, name, true );\n\t\t\t},\n\n\t\t\tleave ( node ) {\n\t\t\t\tif ( /^Function/.test( node.type ) ) depth -= 1;\n\n\t\t\t\tif ( node._scope ) {\n\t\t\t\t\tnames = replacementStack.pop();\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\treturn magicString;\n\t}\n\n\tsource () {\n\t\treturn this.module.source.slice( this.start, this.end );\n\t}\n\n\ttoString () {\n\t\treturn this.module.magicString.slice( this.start, this.end );\n\t}\n}\n","import { blank } from '../utils/object';\n\nconst extractors = {\n\tIdentifier ( names, param ) {\n\t\tnames.push( param.name );\n\t},\n\n\tObjectPattern ( names, param ) {\n\t\tparam.properties.forEach( prop => {\n\t\t\textractors[ prop.key.type ]( names, prop.key );\n\t\t});\n\t},\n\n\tArrayPattern ( names, param ) {\n\t\tparam.elements.forEach( element => {\n\t\t\tif ( element ) extractors[ element.type ]( names, element );\n\t\t});\n\t},\n\n\tRestElement ( names, param ) {\n\t\textractors[ param.argument.type ]( names, param.argument );\n\t},\n\n\tAssignmentPattern ( names, param ) {\n\t\treturn extractors[ param.left.type ]( names, param.left );\n\t}\n};\n\nfunction extractNames ( param ) {\n\tlet names = [];\n\n\textractors[ param.type ]( names, param );\n\treturn names;\n}\n\nexport default class Scope {\n\tconstructor ( options ) {\n\t\toptions = options || {};\n\n\t\tthis.parent = options.parent;\n\t\tthis.depth = this.parent ? this.parent.depth + 1 : 0;\n\t\tthis.declarations = blank();\n\t\tthis.isBlockScope = !!options.block;\n\n\t\tthis.varDeclarations = [];\n\n\t\tif ( options.params ) {\n\t\t\toptions.params.forEach( param => {\n\t\t\t\textractNames( param ).forEach( name => {\n\t\t\t\t\tthis.declarations[ name ] = true;\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\t}\n\n\taddDeclaration ( declaration, isBlockDeclaration, isVar ) {\n\t\tif ( !isBlockDeclaration && this.isBlockScope ) {\n\t\t\t// it's a `var` or function node, and this\n\t\t\t// is a block scope, so we need to go up\n\t\t\tthis.parent.addDeclaration( declaration, isBlockDeclaration, isVar );\n\t\t} else {\n\t\t\textractNames( declaration.id ).forEach( name => {\n\t\t\t\tthis.declarations[ name ] = true;\n\t\t\t\tif ( isVar ) this.varDeclarations.push( name );\n\t\t\t});\n\t\t}\n\t}\n\n\tcontains ( name ) {\n\t\treturn this.declarations[ name ] ||\n\t\t       ( this.parent ? this.parent.contains( name ) : false );\n\t}\n\n\tfindDefiningScope ( name ) {\n\t\tif ( this.declarations[ name ] ) {\n\t\t\treturn this;\n\t\t}\n\n\t\tif ( this.parent ) {\n\t\t\treturn this.parent.findDefiningScope( name );\n\t\t}\n\n\t\treturn null;\n\t}\n}\n","export default function getLocation ( source, charIndex ) {\n\tconst lines = source.split( '\\n' );\n\tconst len = lines.length;\n\n\tlet lineStart = 0;\n\tlet i;\n\n\tfor ( i = 0; i < len; i += 1 ) {\n\t\tconst line = lines[i];\n\t\tconst lineEnd =  lineStart + line.length + 1; // +1 for newline\n\n\t\tif ( lineEnd > charIndex ) {\n\t\t\treturn { line: i + 1, column: charIndex - lineStart };\n\t\t}\n\n\t\tlineStart = lineEnd;\n\t}\n\n\tthrow new Error( 'Could not determine location of character' );\n}\n","import { blank } from '../utils/object';\n\nlet shouldSkip;\nlet shouldAbort;\n\nexport default function walk ( ast, { enter, leave }) {\n\tshouldAbort = false;\n\tvisit( ast, null, enter, leave );\n}\n\nlet context = {\n\tskip: () => shouldSkip = true,\n\tabort: () => shouldAbort = true\n};\n\nlet childKeys = blank();\n\nlet toString = Object.prototype.toString;\n\nfunction isArray ( thing ) {\n\treturn toString.call( thing ) === '[object Array]';\n}\n\nfunction visit ( node, parent, enter, leave ) {\n\tif ( !node || shouldAbort ) return;\n\n\tif ( enter ) {\n\t\tshouldSkip = false;\n\t\tenter.call( context, node, parent );\n\t\tif ( shouldSkip || shouldAbort ) return;\n\t}\n\n\tlet keys = childKeys[ node.type ] || (\n\t\tchildKeys[ node.type ] = Object.keys( node ).filter( key => typeof node[ key ] === 'object' )\n\t);\n\n\tlet key, value, i, j;\n\n\ti = keys.length;\n\twhile ( i-- ) {\n\t\tkey = keys[i];\n\t\tvalue = node[ key ];\n\n\t\tif ( isArray( value ) ) {\n\t\t\tj = value.length;\n\t\t\twhile ( j-- ) {\n\t\t\t\tvisit( value[j], node, enter, leave );\n\t\t\t}\n\t\t}\n\n\t\telse if ( value && value.type ) {\n\t\t\tvisit( value, node, enter, leave );\n\t\t}\n\t}\n\n\tif ( leave && !shouldAbort ) {\n\t\tleave( node, parent );\n\t}\n}\n","import { blank } from './utils/object';\nimport makeLegalIdentifier from './utils/makeLegalIdentifier';\n\n// An external identifier.\nclass Id {\n\tconstructor ( module, name ) {\n\t\tthis.originalName = this.name = name;\n\t\tthis.module = module;\n\n\t\tthis.modifierStatements = [];\n\t}\n\n\t// Flags the identifier as imported by the bundle when marked.\n\tmark () {\n\t\tthis.module.importedByBundle[ this.originalName ] = true;\n\t\tthis.modifierStatements.forEach( stmt => stmt.mark() );\n\t}\n}\n\nexport default class ExternalModule {\n\tconstructor ( { id, bundle } ) {\n\t\tthis.id = id;\n\n\t\t// Implement `Identifier` interface.\n\t\tthis.originalName = this.name = makeLegalIdentifier( id );\n\t\tthis.module = this;\n\t\tthis.isModule = true;\n\n\t\t// Define the external module's name in the bundle scope.\n\t\tbundle.scope.define( id, this );\n\n\t\tthis.isExternal = true;\n\t\tthis.importedByBundle = blank();\n\n\t\t// Invariant: needsNamed and needsAll are never both true at once.\n\t\t// Because an import with both a namespace and named import is invalid:\n\t\t//\n\t\t// \t\timport * as ns, { a } from '...'\n\t\t//\n\t\tthis.needsNamed = false;\n\t\tthis.needsAll = false;\n\n\t\tthis.exports = bundle.scope.virtual( false );\n\n\t\tconst { reference } = this.exports;\n\n\t\t// Override reference.\n\t\tthis.exports.reference = name => {\n\t\t\tif ( name !== 'default' ) {\n\t\t\t\tthis.needsNamed = true;\n\t\t\t}\n\n\t\t\tif ( !this.exports.defines( name ) ) {\n\t\t\t\tthis.exports.define( name, new Id( this, name ) );\n\t\t\t}\n\n\t\t\treturn reference.call( this.exports, name );\n\t\t};\n\t}\n\n\t// External modules are always marked for inclusion in the bundle.\n\t// Marking an external module signals its use as a namespace.\n\tmark () {\n\t\tthis.needsAll = true;\n\t}\n}\n","import { blank } from './object';\n\nconst reservedWords = 'break case class catch const continue debugger default delete do else export extends finally for function if import in instanceof let new return super switch this throw try typeof var void while with yield enum await implements package protected static interface private public'.split( ' ' );\nconst builtins = 'Infinity NaN undefined null true false eval uneval isFinite isNaN parseFloat parseInt decodeURI decodeURIComponent encodeURI encodeURIComponent escape unescape Object Function Boolean Symbol Error EvalError InternalError RangeError ReferenceError SyntaxError TypeError URIError Number Math Date String RegExp Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array Map Set WeakMap WeakSet SIMD ArrayBuffer DataView JSON Promise Generator GeneratorFunction Reflect Proxy Intl'.split( ' ' );\n\nlet blacklisted = blank();\nreservedWords.concat( builtins ).forEach( word => blacklisted[ word ] = true );\n\n\nexport default function makeLegalIdentifier ( str ) {\n\tstr = str\n\t\t.replace( /-(\\w)/g, ( _, letter ) => letter.toUpperCase() )\n\t\t.replace( /[^$_a-zA-Z0-9]/g, '_' );\n\n\tif ( /\\d/.test( str[0] ) || blacklisted[ str ] ) str = `_${str}`;\n\n\treturn str;\n}\n","import { keys } from './object';\n\nfunction badExports ( option, keys ) {\n\tthrow new Error( `'${option}' was specified for options.exports, but entry module has following exports: ${keys.join(', ')}` );\n}\n\nexport default function getExportMode ( bundle, exportMode ) {\n\tconst exportKeys = keys( bundle.entryModule.exports.names );\n\n\tif ( exportMode === 'default' ) {\n\t\tif ( exportKeys.length !== 1 || exportKeys[0] !== 'default' ) {\n\t\t\tbadExports( 'default', exportKeys );\n\t\t}\n\t} else if ( exportMode === 'none' && exportKeys.length ) {\n\t\tbadExports( 'none', exportKeys );\n\t}\n\n\tif ( !exportMode || exportMode === 'auto' ) {\n\t\tif ( exportKeys.length === 0 ) {\n\t\t\texportMode = 'none';\n\t\t} else if ( exportKeys.length === 1 && exportKeys[0] === 'default' ) {\n\t\t\texportMode = 'default';\n\t\t} else {\n\t\t\texportMode = 'named';\n\t\t}\n\t}\n\n\tif ( !/(?:default|named|none)/.test( exportMode ) ) {\n\t\tthrow new Error( `options.exports must be 'default', 'named', 'none', 'auto', or left unspecified (defaults to 'auto')` );\n\t}\n\n\treturn exportMode;\n}\n","import MagicString from './MagicString/index';\nimport Bundle from './Bundle/index';\n\nMagicString.Bundle = Bundle;\n\nexport default MagicString;\n","import SourceMap from '../utils/SourceMap';\nimport guessIndent from './guessIndent';\nimport encodeMappings from './encodeMappings';\nimport getRelativePath from '../utils/getRelativePath';\n\nlet warned = false;\n\nclass MagicString {\n\tconstructor ( string, options = {} ) {\n\t\tthis.original = this.str = string;\n\t\tthis.mappings = initMappings( string.length );\n\n\t\tthis.filename = options.filename;\n\t\tthis.indentExclusionRanges = options.indentExclusionRanges;\n\n\t\tthis.sourcemapLocations = {};\n\t\tthis.nameLocations = {};\n\n\t\tthis.indentStr = guessIndent( string );\n\t}\n\n\taddSourcemapLocation ( char ) {\n\t\tthis.sourcemapLocations[ char ] = true;\n\t}\n\n\tappend ( content ) {\n\t\tif ( typeof content !== 'string' ) {\n\t\t\tthrow new TypeError( 'appended content must be a string' );\n\t\t}\n\n\t\tthis.str += content;\n\t\treturn this;\n\t}\n\n\tclone () {\n\t\tvar clone, i;\n\n\t\tclone = new MagicString( this.original, { filename: this.filename });\n\t\tclone.str = this.str;\n\n\t\ti = clone.mappings.length;\n\t\twhile ( i-- ) {\n\t\t\tclone.mappings[i] = this.mappings[i];\n\t\t}\n\n\t\tif ( this.indentExclusionRanges ) {\n\t\t\tclone.indentExclusionRanges = typeof this.indentExclusionRanges[0] === 'number' ?\n\t\t\t\t[ this.indentExclusionRanges[0], this.indentExclusionRanges[1] ] :\n\t\t\t\tthis.indentExclusionRanges.map( ([ start, end ]) => [ start, end ] );\n\t\t}\n\n\t\tObject.keys( this.sourcemapLocations ).forEach( loc => {\n\t\t\tclone.sourcemapLocations[ loc ] = true;\n\t\t});\n\n\t\treturn clone;\n\t}\n\n\tgenerateMap ( options ) {\n\t\toptions = options || {};\n\n\t\tlet names = [];\n\t\tObject.keys( this.nameLocations ).forEach( location => {\n\t\t\tconst name = this.nameLocations[ location ];\n\t\t\tif ( !~names.indexOf( name ) ) names.push( name );\n\t\t});\n\n\t\treturn new SourceMap({\n\t\t\tfile: ( options.file ? options.file.split( /[\\/\\\\]/ ).pop() : null ),\n\t\t\tsources: [ options.source ? getRelativePath( options.file || '', options.source ) : null ],\n\t\t\tsourcesContent: options.includeContent ? [ this.original ] : [ null ],\n\t\t\tnames,\n\t\t\tmappings: this.getMappings( options.hires, 0, {}, names )\n\t\t});\n\t}\n\n\tgetIndentString () {\n\t\treturn this.indentStr === null ? '\\t' : this.indentStr;\n\t}\n\n\tgetMappings ( hires, sourceIndex, offsets, names ) {\n\t\treturn encodeMappings( this.original, this.str, this.mappings, hires, this.sourcemapLocations, sourceIndex, offsets, names, this.nameLocations );\n\t}\n\n\tindent ( indentStr, options ) {\n\t\tvar self = this,\n\t\t\tmappings = this.mappings,\n\t\t\treverseMappings = reverse( mappings, this.str.length ),\n\t\t\tpattern = /^[^\\r\\n]/gm,\n\t\t\tmatch,\n\t\t\tinserts = [],\n\t\t\tadjustments,\n\t\t\texclusions,\n\t\t\tlastEnd,\n\t\t\ti;\n\n\t\tif ( typeof indentStr === 'object' ) {\n\t\t\toptions = indentStr;\n\t\t\tindentStr = undefined;\n\t\t}\n\n\t\tindentStr = indentStr !== undefined ? indentStr : ( this.indentStr || '\\t' );\n\n\t\tif ( indentStr === '' ) return this; // noop\n\n\t\toptions = options || {};\n\n\t\t// Process exclusion ranges\n\t\tif ( options.exclude ) {\n\t\t\texclusions = typeof options.exclude[0] === 'number' ? [ options.exclude ] : options.exclude;\n\n\t\t\texclusions = exclusions.map( function ( range ) {\n\t\t\t\tvar rangeStart, rangeEnd;\n\n\t\t\t\trangeStart = self.locate( range[0] );\n\t\t\t\trangeEnd = self.locate( range[1] );\n\n\t\t\t\tif ( rangeStart === null || rangeEnd === null ) {\n\t\t\t\t\tthrow new Error( 'Cannot use indices of replaced characters as exclusion ranges' );\n\t\t\t\t}\n\n\t\t\t\treturn [ rangeStart, rangeEnd ];\n\t\t\t});\n\n\t\t\texclusions.sort( function ( a, b ) {\n\t\t\t\treturn a[0] - b[0];\n\t\t\t});\n\n\t\t\t// check for overlaps\n\t\t\tlastEnd = -1;\n\t\t\texclusions.forEach( function ( range ) {\n\t\t\t\tif ( range[0] < lastEnd ) {\n\t\t\t\t\tthrow new Error( 'Exclusion ranges cannot overlap' );\n\t\t\t\t}\n\n\t\t\t\tlastEnd = range[1];\n\t\t\t});\n\t\t}\n\n\t\tconst indentStart = options.indentStart !== false;\n\n\t\tif ( !exclusions ) {\n\t\t\tthis.str = this.str.replace( pattern, ( match, index ) => {\n\t\t\t\tif ( !indentStart && index === 0 ) {\n\t\t\t\t\treturn match;\n\t\t\t\t}\n\n\t\t\t\tinserts.push( index );\n\t\t\t\treturn indentStr + match;\n\t\t\t});\n\t\t} else {\n\t\t\tthis.str = this.str.replace( pattern, ( match, index ) => {\n\t\t\t\tif ( ( !indentStart && index === 0 ) || isExcluded( index - 1 ) ) {\n\t\t\t\t\treturn match;\n\t\t\t\t}\n\n\t\t\t\tinserts.push( index );\n\t\t\t\treturn indentStr + match;\n\t\t\t});\n\t\t}\n\n\t\tadjustments = inserts.map( function ( index ) {\n\t\t\tvar origin;\n\n\t\t\tdo {\n\t\t\t\torigin = reverseMappings[ index++ ];\n\t\t\t} while ( !~origin && index < self.str.length );\n\n\t\t\treturn origin;\n\t\t});\n\n\t\ti = adjustments.length;\n\t\tlastEnd = this.mappings.length;\n\t\twhile ( i-- ) {\n\t\t\tadjust( self.mappings, adjustments[i], lastEnd, ( ( i + 1 ) * indentStr.length ) );\n\t\t\tlastEnd = adjustments[i];\n\t\t}\n\n\t\treturn this;\n\n\t\tfunction isExcluded ( index ) {\n\t\t\tvar i = exclusions.length, range;\n\n\t\t\twhile ( i-- ) {\n\t\t\t\trange = exclusions[i];\n\n\t\t\t\tif ( range[1] < index ) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\tif ( range[0] <= index ) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tinsert ( index, content ) {\n\t\tif ( typeof content !== 'string' ) {\n\t\t\tthrow new TypeError( 'inserted content must be a string' );\n\t\t}\n\n\t\tif ( index === this.original.length ) {\n\t\t\tthis.append( content );\n\t\t} else {\n\t\t\tvar mapped = this.locate(index);\n\n\t\t\tif ( mapped === null ) {\n\t\t\t\tthrow new Error( 'Cannot insert at replaced character index: ' + index );\n\t\t\t}\n\n\t\t\tthis.str = this.str.substr( 0, mapped ) + content + this.str.substr( mapped );\n\t\t\tadjust( this.mappings, index, this.mappings.length, content.length );\n\t\t}\n\n\t\treturn this;\n\t}\n\n\t// get current location of character in original string\n\tlocate ( character ) {\n\t\tvar loc;\n\n\t\tif ( character < 0 || character > this.mappings.length ) {\n\t\t\tthrow new Error( 'Character is out of bounds' );\n\t\t}\n\n\t\tloc = this.mappings[ character ];\n\t\treturn ~loc ? loc : null;\n\t}\n\n\tlocateOrigin ( character ) {\n\t\tvar i;\n\n\t\tif ( character < 0 || character >= this.str.length ) {\n\t\t\tthrow new Error( 'Character is out of bounds' );\n\t\t}\n\n\t\ti = this.mappings.length;\n\t\twhile ( i-- ) {\n\t\t\tif ( this.mappings[i] === character ) {\n\t\t\t\treturn i;\n\t\t\t}\n\t\t}\n\n\t\treturn null;\n\t}\n\n\toverwrite ( start, end, content, storeName ) {\n\t\tif ( typeof content !== 'string' ) {\n\t\t\tthrow new TypeError( 'replacement content must be a string' );\n\t\t}\n\n\t\tvar firstChar, lastChar, d;\n\n\t\tfirstChar = this.locate( start );\n\t\tlastChar = this.locate( end - 1 );\n\n\t\tif ( firstChar === null || lastChar === null ) {\n\t\t\tthrow new Error( `Cannot overwrite the same content twice: '${this.original.slice(start, end).replace(/\\n/g, '\\\\n')}'` );\n\t\t}\n\n\t\tif ( firstChar > lastChar + 1 ) {\n\t\t\tthrow new Error(\n\t\t\t\t'BUG! First character mapped to a position after the last character: ' +\n\t\t\t\t'[' + start + ', ' + end + '] -> [' + firstChar + ', ' + ( lastChar + 1 ) + ']'\n\t\t\t);\n\t\t}\n\n\t\tif ( storeName ) {\n\t\t\tthis.nameLocations[ start ] = this.original.slice( start, end );\n\t\t}\n\n\t\tthis.str = this.str.substr( 0, firstChar ) + content + this.str.substring( lastChar + 1 );\n\n\t\td = content.length - ( lastChar + 1 - firstChar );\n\n\t\tblank( this.mappings, start, end );\n\t\tadjust( this.mappings, end, this.mappings.length, d );\n\t\treturn this;\n\t}\n\n\tprepend ( content ) {\n\t\tthis.str = content + this.str;\n\t\tadjust( this.mappings, 0, this.mappings.length, content.length );\n\t\treturn this;\n\t}\n\n\tremove ( start, end ) {\n\t\tif ( start < 0 || end > this.mappings.length ) {\n\t\t\tthrow new Error( 'Character is out of bounds' );\n\t\t}\n\n\t\tlet currentStart = -1;\n\t\tlet currentEnd = -1;\n\t\tfor ( let i = start; i < end; i += 1 ) {\n\t\t\tconst loc = this.mappings[i];\n\n\t\t\tif ( ~loc ) {\n\t\t\t\tif ( !~currentStart ) currentStart = loc;\n\n\t\t\t\tcurrentEnd = loc + 1;\n\t\t\t\tthis.mappings[i] = -1;\n\t\t\t}\n\t\t}\n\n\t\tthis.str = this.str.slice( 0, currentStart ) + this.str.slice( currentEnd );\n\n\t\tadjust( this.mappings, end, this.mappings.length, currentStart - currentEnd );\n\t\treturn this;\n\t}\n\n\treplace ( start, end, content ) {\n\t\tif ( !warned ) {\n\t\t\tconsole.warn( 'magicString.replace(...) is deprecated. Use magicString.overwrite(...) instead' );\n\t\t\twarned = true;\n\t\t}\n\n\t\treturn this.overwrite( start, end, content );\n\t}\n\n\tslice ( start, end = this.original.length ) {\n\t\tvar firstChar, lastChar;\n\n\t\twhile ( start < 0 ) start += this.original.length;\n\t\twhile ( end < 0 ) end += this.original.length;\n\n\t\tfirstChar = this.locate( start );\n\t\tlastChar = this.locate( end - 1 );\n\n\t\tif ( firstChar === null || lastChar === null ) {\n\t\t\tthrow new Error( 'Cannot use replaced characters as slice anchors' );\n\t\t}\n\n\t\treturn this.str.slice( firstChar, lastChar + 1 );\n\t}\n\n\tsnip ( start, end ) {\n\t\tconst clone = this.clone();\n\t\tclone.remove( 0, start );\n\t\tclone.remove( end, clone.original.length );\n\n\t\treturn clone;\n\t}\n\n\ttoString () {\n\t\treturn this.str;\n\t}\n\n\ttrimLines() {\n\t\treturn this.trim('[\\\\r\\\\n]');\n\t}\n\n\ttrim (charType) {\n\t\treturn this.trimStart(charType).trimEnd(charType);\n\t}\n\n\ttrimEnd (charType) {\n\t\tvar self = this;\n\t\tvar rx = new RegExp((charType || '\\\\s') + '+$');\n\n\t\tthis.str = this.str.replace( rx, function ( trailing, index, str ) {\n\t\t\tvar strLength = str.length,\n\t\t\t\tlength = trailing.length,\n\t\t\t\ti,\n\t\t\t\tchars = [];\n\n\t\t\ti = strLength;\n\t\t\twhile ( i-- > strLength - length ) {\n\t\t\t\tchars.push( self.locateOrigin( i ) );\n\t\t\t}\n\n\t\t\ti = chars.length;\n\t\t\twhile ( i-- ) {\n\t\t\t\tif ( chars[i] !== null ) {\n\t\t\t\t\tself.mappings[ chars[i] ] = -1;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn '';\n\t\t});\n\n\t\treturn this;\n\t}\n\n\ttrimStart (charType) {\n\t\tvar self = this;\n\t\tvar rx = new RegExp('^' + (charType || '\\\\s') + '+');\n\n\t\tthis.str = this.str.replace( rx, function ( leading ) {\n\t\t\tvar length = leading.length, i, chars = [], adjustmentStart = 0;\n\n\t\t\ti = length;\n\t\t\twhile ( i-- ) {\n\t\t\t\tchars.push( self.locateOrigin( i ) );\n\t\t\t}\n\n\t\t\ti = chars.length;\n\t\t\twhile ( i-- ) {\n\t\t\t\tif ( chars[i] !== null ) {\n\t\t\t\t\tself.mappings[ chars[i] ] = -1;\n\t\t\t\t\tadjustmentStart += 1;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tadjust( self.mappings, adjustmentStart, self.mappings.length, -length );\n\n\t\t\treturn '';\n\t\t});\n\n\t\treturn this;\n\t}\n}\n\nfunction adjust ( mappings, start, end, d ) {\n\tvar i = end;\n\n\tif ( !d ) return; // replacement is same length as replaced string\n\n\twhile ( i-- > start ) {\n\t\tif ( ~mappings[i] ) {\n\t\t\tmappings[i] += d;\n\t\t}\n\t}\n}\n\nfunction initMappings ( i ) {\n\tvar mappings = new Uint32Array( i );\n\n\twhile ( i-- ) {\n\t\tmappings[i] = i;\n\t}\n\n\treturn mappings;\n}\n\nfunction blank ( mappings, start, i ) {\n\twhile ( i-- > start ) {\n\t\tmappings[i] = -1;\n\t}\n}\n\nfunction reverse ( mappings, i ) {\n\tvar result, location;\n\n\tresult = new Uint32Array( i );\n\n\twhile ( i-- ) {\n\t\tresult[i] = -1;\n\t}\n\n\ti = mappings.length;\n\twhile ( i-- ) {\n\t\tlocation = mappings[i];\n\n\t\tif ( ~location ) {\n\t\t\tresult[ location ] = i;\n\t\t}\n\t}\n\n\treturn result;\n}\n\nexport default MagicString;\n","import MagicString from '../MagicString/index';\nimport SourceMap from '../utils/SourceMap';\nimport getRelativePath from '../utils/getRelativePath';\nimport hasOwnProp from '../utils/hasOwnProp';\n\nclass Bundle {\n\tconstructor ( options = {} ) {\n\t\tthis.intro = options.intro || '';\n\t\tthis.outro = options.outro || '';\n\t\tthis.separator = options.separator !== undefined ? options.separator : '\\n';\n\n\t\tthis.sources = [];\n\n\t\tthis.uniqueSources = [];\n\t\tthis.uniqueSourceIndexByFilename = {};\n\t}\n\n\taddSource ( source ) {\n\t\tif ( source instanceof MagicString ) {\n\t\t\treturn this.addSource({\n\t\t\t\tcontent: source,\n\t\t\t\tfilename: source.filename,\n\t\t\t\tseparator: this.separator\n\t\t\t});\n\t\t}\n\n\t\tif ( typeof source !== 'object' || !source.content ) {\n\t\t\tthrow new Error( 'bundle.addSource() takes an object with a `content` property, which should be an instance of MagicString, and an optional `filename`' );\n\t\t}\n\n\t\t[ 'filename', 'indentExclusionRanges', 'separator' ].forEach( option => {\n\t\t\tif ( !hasOwnProp.call( source, option ) ) source[ option ] = source.content[ option ];\n\t\t});\n\n\t\tif ( source.separator === undefined ) { // TODO there's a bunch of this sort of thing, needs cleaning up\n\t\t\tsource.separator = this.separator;\n\t\t}\n\n\t\tif ( source.filename ) {\n\t\t\tif ( !hasOwnProp.call( this.uniqueSourceIndexByFilename, source.filename ) ) {\n\t\t\t\tthis.uniqueSourceIndexByFilename[ source.filename ] = this.uniqueSources.length;\n\t\t\t\tthis.uniqueSources.push({ filename: source.filename, content: source.content.original });\n\t\t\t} else {\n\t\t\t\tconst uniqueSource = this.uniqueSources[ this.uniqueSourceIndexByFilename[ source.filename ] ];\n\t\t\t\tif ( source.content.original !== uniqueSource.content ) {\n\t\t\t\t\tthrow new Error( `Illegal source: same filename (${source.filename}), different contents` );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tthis.sources.push( source );\n\t\treturn this;\n\t}\n\n\tappend ( str, options ) {\n\t\tthis.addSource({\n\t\t\tcontent: new MagicString( str ),\n\t\t\tseparator: ( options && options.separator ) || ''\n\t\t});\n\n\t\treturn this;\n\t}\n\n\tclone () {\n\t\tconst bundle = new Bundle({\n\t\t\tintro: this.intro,\n\t\t\toutro: this.outro,\n\t\t\tseparator: this.separator\n\t\t});\n\n\t\tthis.sources.forEach( source => {\n\t\t\tbundle.addSource({\n\t\t\t\tfilename: source.filename,\n\t\t\t\tcontent: source.content.clone(),\n\t\t\t\tseparator: source.separator\n\t\t\t});\n\t\t});\n\n\t\treturn bundle;\n\t}\n\n\tgenerateMap ( options ) {\n\t\tlet offsets = {};\n\n\t\tlet names = [];\n\t\tthis.sources.forEach( source => {\n\t\t\tObject.keys( source.content.nameLocations ).forEach( location => {\n\t\t\t\tconst name = source.content.nameLocations[ location ];\n\t\t\t\tif ( !~names.indexOf( name ) ) names.push( name );\n\t\t\t});\n\t\t});\n\n\t\tconst encoded = (\n\t\t\tgetSemis( this.intro ) +\n\t\t\tthis.sources.map( ( source, i ) => {\n\t\t\t\tconst prefix = ( i > 0 ) ? ( getSemis( source.separator ) || ',' ) : '';\n\t\t\t\tlet mappings;\n\n\t\t\t\t// we don't bother encoding sources without a filename\n\t\t\t\tif ( !source.filename ) {\n\t\t\t\t\tmappings = getSemis( source.content.toString() );\n\t\t\t\t} else {\n\t\t\t\t\tconst sourceIndex = this.uniqueSourceIndexByFilename[ source.filename ];\n\t\t\t\t\tmappings = source.content.getMappings( options.hires, sourceIndex, offsets, names );\n\t\t\t\t}\n\n\t\t\t\treturn prefix + mappings;\n\t\t\t}).join( '' ) +\n\t\t\tgetSemis( this.outro )\n\t\t);\n\n\t\treturn new SourceMap({\n\t\t\tfile: ( options.file ? options.file.split( /[\\/\\\\]/ ).pop() : null ),\n\t\t\tsources: this.uniqueSources.map( source => {\n\t\t\t\treturn options.file ? getRelativePath( options.file, source.filename ) : source.filename;\n\t\t\t}),\n\t\t\tsourcesContent: this.uniqueSources.map( source => {\n\t\t\t\treturn options.includeContent ? source.content : null;\n\t\t\t}),\n\t\t\tnames,\n\t\t\tmappings: encoded\n\t\t});\n\t}\n\n\tgetIndentString () {\n\t\tlet indentStringCounts = {};\n\n\t\tthis.sources.forEach( source => {\n\t\t\tvar indentStr = source.content.indentStr;\n\n\t\t\tif ( indentStr === null ) return;\n\n\t\t\tif ( !indentStringCounts[ indentStr ] ) indentStringCounts[ indentStr ] = 0;\n\t\t\tindentStringCounts[ indentStr ] += 1;\n\t\t});\n\n\t\treturn ( Object.keys( indentStringCounts ).sort( ( a, b ) => {\n\t\t\treturn indentStringCounts[a] - indentStringCounts[b];\n\t\t})[0] ) || '\\t';\n\t}\n\n\tindent ( indentStr ) {\n\t\tif ( !arguments.length ) {\n\t\t\tindentStr = this.getIndentString();\n\t\t}\n\n\t\tif ( indentStr === '' ) return this; // noop\n\n\t\tlet trailingNewline = !this.intro || this.intro.slice( -1 ) === '\\n';\n\n\t\tthis.sources.forEach( ( source, i ) => {\n\t\t\tconst separator = source.separator !== undefined ? source.separator : this.separator;\n\t\t\tconst indentStart = trailingNewline || ( i > 0 && /\\r?\\n$/.test( separator ) );\n\n\t\t\tsource.content.indent( indentStr, {\n\t\t\t\texclude: source.indentExclusionRanges,\n\t\t\t\tindentStart//: trailingNewline || /\\r?\\n$/.test( separator )  //true///\\r?\\n/.test( separator )\n\t\t\t});\n\n\t\t\ttrailingNewline = source.content.str.slice( 0, -1 ) === '\\n';\n\t\t});\n\n\t\tif ( this.intro ) {\n\t\t\tthis.intro = indentStr + this.intro.replace( /^[^\\n]/gm, ( match, index ) => {\n\t\t\t\treturn index > 0 ? indentStr + match : match;\n\t\t\t});\n\t\t}\n\n\t\tthis.outro = this.outro.replace( /^[^\\n]/gm, indentStr + '$&' );\n\n\t\treturn this;\n\t}\n\n\tprepend ( str ) {\n\t\tthis.intro = str + this.intro;\n\t\treturn this;\n\t}\n\n\ttoString () {\n\t\tconst body = this.sources.map( ( source, i ) => {\n\t\t\tconst separator = source.separator !== undefined ? source.separator : this.separator;\n\t\t\tlet str = ( i > 0 ? separator : '' ) + source.content.toString();\n\n\t\t\treturn str;\n\t\t}).join( '' );\n\n\t\treturn this.intro + body + this.outro;\n\t}\n\n\ttrimLines () {\n\t\treturn this.trim('[\\\\r\\\\n]');\n\t}\n\n\ttrim ( charType ) {\n\t\treturn this.trimStart( charType ).trimEnd( charType );\n\t}\n\n\ttrimStart ( charType ) {\n\t\tconst rx = new RegExp( '^' + ( charType || '\\\\s' ) + '+' );\n\t\tthis.intro = this.intro.replace( rx, '' );\n\n\t\tif ( !this.intro ) {\n\t\t\tlet source; // TODO put inside loop if safe\n\t\t\tlet i = 0;\n\n\t\t\tdo {\n\t\t\t\tsource = this.sources[i];\n\n\t\t\t\tif ( !source ) {\n\t\t\t\t\tthis.outro = this.outro.replace( rx, '' );\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tsource.content.trimStart();\n\t\t\t\ti += 1;\n\t\t\t} while ( source.content.str === '' );\n\t\t}\n\n\t\treturn this;\n\t}\n\n\ttrimEnd ( charType ) {\n\t\tconst rx = new RegExp( ( charType || '\\\\s' ) + '+$' );\n\t\tthis.outro = this.outro.replace( rx, '' );\n\n\t\tif ( !this.outro ) {\n\t\t\tlet source;\n\t\t\tlet i = this.sources.length - 1;\n\n\t\t\tdo {\n\t\t\t\tsource = this.sources[i];\n\n\t\t\t\tif ( !source ) {\n\t\t\t\t\tthis.intro = this.intro.replace( rx, '' );\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tsource.content.trimEnd(charType);\n\t\t\t\ti -= 1;\n\t\t\t} while ( source.content.str === '' );\n\t\t}\n\n\t\treturn this;\n\t}\n}\n\nexport default Bundle;\n\nfunction stringify ( source ) {\n\treturn source.content.toString();\n}\n\nfunction getSemis ( str ) {\n\treturn new Array( str.split( '\\n' ).length ).join( ';' );\n}\n","export default Object.prototype.hasOwnProperty;","export default function guessIndent ( code ) {\n\tconst lines = code.split( '\\n' );\n\n\tconst tabbed = lines.filter( line => /^\\t+/.test( line ) );\n\tconst spaced = lines.filter( line => /^ {2,}/.test( line ) );\n\n\tif ( tabbed.length === 0 && spaced.length === 0 ) {\n\t\treturn null;\n\t}\n\n\t// More lines tabbed than spaced? Assume tabs, and\n\t// default to tabs in the case of a tie (or nothing\n\t// to go on)\n\tif ( tabbed.length >= spaced.length ) {\n\t\treturn '\\t';\n\t}\n\n\t// Otherwise, we need to guess the multiple\n\tconst min = spaced.reduce( ( previous, current ) => {\n\t\tvar numSpaces = /^ +/.exec( current )[0].length;\n\t\treturn Math.min( numSpaces, previous );\n\t}, Infinity );\n\n\treturn new Array( min + 1 ).join( ' ' );\n}\n","import btoa from './btoa';\n\nclass SourceMap {\n\tconstructor ( properties ) {\n\t\tthis.version = 3;\n\n\t\tthis.file           = properties.file;\n\t\tthis.sources        = properties.sources;\n\t\tthis.sourcesContent = properties.sourcesContent;\n\t\tthis.names          = properties.names;\n\t\tthis.mappings       = properties.mappings;\n\t}\n\n\ttoString () {\n\t\treturn JSON.stringify( this );\n\t}\n\n\ttoUrl () {\n\t\treturn 'data:application/json;charset=utf-8;base64,' + btoa( this.toString() );\n\t}\n}\n\nexport default SourceMap;\n","var _btoa;\n\nif ( typeof window !== 'undefined' && typeof window.btoa === 'function' ) {\n\t_btoa = window.btoa;\n} else if ( typeof Buffer === 'function' ) {\n\t_btoa = str => new Buffer( str ).toString( 'base64' );\n} else {\n\tthrow new Error( 'Unsupported environment: `window.btoa` or `Buffer` should be supported.' );\n}\n\nexport default _btoa;","export default function getRelativePath ( from, to ) {\n\tlet fromParts = from.split( /[\\/\\\\]/ );\n\tlet toParts = to.split( /[\\/\\\\]/ );\n\n\tfromParts.pop(); // get dirname\n\n\twhile ( fromParts[0] === toParts[0] ) {\n\t\tfromParts.shift();\n\t\ttoParts.shift();\n\t}\n\n\tif ( fromParts.length ) {\n\t\tlet i = fromParts.length;\n\t\twhile ( i-- ) fromParts[i] = '..';\n\t}\n\n\treturn fromParts.concat( toParts ).join( '/' );\n}\n","import { encode } from 'vlq';\n\nexport default function encodeMappings ( original, str, mappings, hires, sourcemapLocations, sourceIndex, offsets, names, nameLocations ) {\n\t// store locations, for fast lookup\n\tlet lineStart = 0;\n\tconst locations = original.split( '\\n' ).map( line => {\n\t\tvar start = lineStart;\n\t\tlineStart += line.length + 1; // +1 for the newline\n\n\t\treturn start;\n\t});\n\n\tconst inverseMappings = invert( str, mappings );\n\n\tlet charOffset = 0;\n\tconst lines = str.split( '\\n' ).map( line => {\n\t\tlet segments = [];\n\n\t\tlet char; // TODO put these inside loop, once we've determined it's safe to do so transpilation-wise\n\t\tlet origin;\n\t\tlet lastOrigin = -1;\n\t\tlet location;\n\t\tlet nameIndex;\n\n\t\tlet i;\n\n\t\tconst len = line.length;\n\t\tfor ( i = 0; i < len; i += 1 ) {\n\t\t\tchar = i + charOffset;\n\t\t\torigin = inverseMappings[ char ];\n\n\t\t\tnameIndex = -1;\n\t\t\tlocation = null;\n\n\t\t\t// if this character has no mapping, but the last one did,\n\t\t\t// create a new segment\n\t\t\tif ( !~origin && ~lastOrigin ) {\n\t\t\t\tlocation = getLocation( locations, lastOrigin + 1 );\n\n\t\t\t\tif ( ( lastOrigin + 1 ) in nameLocations ) nameIndex = names.indexOf( nameLocations[ lastOrigin + 1 ] );\n\t\t\t}\n\n\t\t\telse if ( ~origin && ( hires || ( ~lastOrigin && origin !== lastOrigin + 1 ) || sourcemapLocations[ origin ] ) ) {\n\t\t\t\tlocation = getLocation( locations, origin );\n\t\t\t}\n\n\t\t\tif ( location ) {\n\t\t\t\tsegments.push({\n\t\t\t\t\tgeneratedCodeColumn: i,\n\t\t\t\t\tsourceIndex: sourceIndex,\n\t\t\t\t\tsourceCodeLine: location.line,\n\t\t\t\t\tsourceCodeColumn: location.column,\n\t\t\t\t\tsourceCodeName: nameIndex\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tlastOrigin = origin;\n\t\t}\n\n\t\tcharOffset += line.length + 1;\n\t\treturn segments;\n\t});\n\n\toffsets.sourceIndex = offsets.sourceIndex || 0;\n\toffsets.sourceCodeLine = offsets.sourceCodeLine || 0;\n\toffsets.sourceCodeColumn = offsets.sourceCodeColumn || 0;\n\toffsets.sourceCodeName = offsets.sourceCodeName || 0;\n\n\tconst encoded = lines.map( segments => {\n\t\tvar generatedCodeColumn = 0;\n\n\t\treturn segments.map( segment => {\n\t\t\tlet arr = [\n\t\t\t\tsegment.generatedCodeColumn - generatedCodeColumn,\n\t\t\t\tsegment.sourceIndex - offsets.sourceIndex,\n\t\t\t\tsegment.sourceCodeLine - offsets.sourceCodeLine,\n\t\t\t\tsegment.sourceCodeColumn - offsets.sourceCodeColumn\n\t\t\t];\n\n\t\t\tgeneratedCodeColumn = segment.generatedCodeColumn;\n\t\t\toffsets.sourceIndex = segment.sourceIndex;\n\t\t\toffsets.sourceCodeLine = segment.sourceCodeLine;\n\t\t\toffsets.sourceCodeColumn = segment.sourceCodeColumn;\n\n\t\t\tif ( ~segment.sourceCodeName ) {\n\t\t\t\tarr.push( segment.sourceCodeName - offsets.sourceCodeName );\n\t\t\t\toffsets.sourceCodeName = segment.sourceCodeName;\n\t\t\t}\n\n\t\t\treturn encode( arr );\n\t\t}).join( ',' );\n\t}).join( ';' );\n\n\treturn encoded;\n}\n\n\nfunction invert ( str, mappings ) {\n\tvar inverted = new Uint32Array( str.length ), i;\n\n\t// initialise everything to -1\n\ti = str.length;\n\twhile ( i-- ) {\n\t\tinverted[i] = -1;\n\t}\n\n\t// then apply the actual mappings\n\ti = mappings.length;\n\twhile ( i-- ) {\n\t\tif ( ~mappings[i] ) {\n\t\t\tinverted[ mappings[i] ] = i;\n\t\t}\n\t}\n\n\treturn inverted;\n}\n\nfunction getLocation ( locations, char ) {\n\tvar i;\n\n\ti = locations.length;\n\twhile ( i-- ) {\n\t\tif ( locations[i] <= char ) {\n\t\t\treturn {\n\t\t\t\tline: i,\n\t\t\t\tcolumn: char - locations[i]\n\t\t\t};\n\t\t}\n\t}\n\n\tthrow new Error( 'Character out of bounds' );\n}\n","var charToInteger = {};\nvar integerToChar = {};\n\n'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/='.split( '' ).forEach( function ( char, i ) {\n\tcharToInteger[ char ] = i;\n\tintegerToChar[ i ] = char;\n});\n\nexport function decode ( string ) {\n\tvar result = [],\n\t\tlen = string.length,\n\t\ti,\n\t\thasContinuationBit,\n\t\tshift = 0,\n\t\tvalue = 0,\n\t\tinteger,\n\t\tshouldNegate;\n\n\tfor ( i = 0; i < len; i += 1 ) {\n\t\tinteger = charToInteger[ string[i] ];\n\n\t\tif ( integer === undefined ) {\n\t\t\tthrow new Error( 'Invalid character (' + string[i] + ')' );\n\t\t}\n\n\t\thasContinuationBit = integer & 32;\n\n\t\tinteger &= 31;\n\t\tvalue += integer << shift;\n\n\t\tif ( hasContinuationBit ) {\n\t\t\tshift += 5;\n\t\t} else {\n\t\t\tshouldNegate = value & 1;\n\t\t\tvalue >>= 1;\n\n\t\t\tresult.push( shouldNegate ? -value : value );\n\n\t\t\t// reset\n\t\t\tvalue = shift = 0;\n\t\t}\n\t}\n\n\treturn result;\n}\n\nexport function encode ( value ) {\n\tvar result, i;\n\n\tif ( typeof value === 'number' ) {\n\t\tresult = encodeInteger( value );\n\t} else {\n\t\tresult = '';\n\t\tfor ( i = 0; i < value.length; i += 1 ) {\n\t\t\tresult += encodeInteger( value[i] );\n\t\t}\n\t}\n\n\treturn result;\n}\n\nfunction encodeInteger ( num ) {\n\tvar result = '', clamped;\n\n\tif ( num < 0 ) {\n\t\tnum = ( -num << 1 ) | 1;\n\t} else {\n\t\tnum <<= 1;\n\t}\n\n\tdo {\n\t\tclamped = num & 31;\n\t\tnum >>= 5;\n\n\t\tif ( num > 0 ) {\n\t\t\tclamped |= 32;\n\t\t}\n\n\t\tresult += integerToChar[ clamped ];\n\t} while ( num > 0 );\n\n\treturn result;\n}\n","export default function getIndentString ( magicString, options ) {\n\tif ( !( 'indent' in options ) || options.indent === true ) {\n\t\treturn magicString.getIndentString();\n\t}\n\n\treturn options.indent || '';\n}\n","import amd from './amd';\nimport cjs from './cjs';\nimport es6 from './es6';\nimport iife from './iife';\nimport umd from './umd';\n\nexport default { amd, cjs, es6, iife, umd };\n","import { getName, quoteId } from '../utils/map-helpers';\nimport getInteropBlock from './shared/getInteropBlock';\nimport getExportBlock from './shared/getExportBlock';\n\nexport default function amd ( bundle, magicString, { exportMode, indentString }, options ) {\n\tlet deps = bundle.externalModules.map( quoteId );\n\tlet args = bundle.externalModules.map( getName );\n\n\tif ( exportMode === 'named' ) {\n\t\targs.unshift( `exports` );\n\t\tdeps.unshift( `'exports'` );\n\t}\n\n\tconst params =\n\t\t( options.moduleId ? `'${options.moduleId}', ` : `` ) +\n\t\t( deps.length ? `[${deps.join( ', ' )}], ` : `` );\n\n\tconst useStrict = options.useStrict !== false ? ` 'use strict';` : ``;\n\tconst intro = `define(${params}function (${args.join( ', ' )}) {${useStrict}\\n\\n`;\n\n\t// var foo__default = 'default' in foo ? foo['default'] : foo;\n\tconst interopBlock = getInteropBlock( bundle );\n\tif ( interopBlock ) magicString.prepend( interopBlock + '\\n\\n' );\n\n\tconst exportBlock = getExportBlock( bundle, exportMode );\n\tif ( exportBlock ) magicString.append( '\\n\\n' + exportBlock );\n\n\treturn magicString\n\t\t.indent( indentString )\n\t\t.append( '\\n\\n});' )\n\t\t.prepend( intro );\n}\n","import getInteropBlock from './shared/getInteropBlock';\nimport getExportBlock from './shared/getExportBlock';\n\nexport default function cjs ( bundle, magicString, { exportMode }, options ) {\n\tlet intro = options.useStrict === false ? `` : `'use strict';\\n\\n`;\n\n\t// TODO handle empty imports, once they're supported\n\tlet importBlock = bundle.externalModules\n\t\t.map( module => `var ${module.name} = require('${module.id}');`)\n\t\t.join('\\n');\n\n\tconst interopBlock = getInteropBlock( bundle );\n\n\tif ( interopBlock ) {\n\t\timportBlock += '\\n' + interopBlock;\n\t}\n\n\tif ( importBlock ) {\n\t\tintro += importBlock + '\\n\\n';\n\t}\n\n\tmagicString.prepend( intro );\n\n\tconst exportBlock = getExportBlock( bundle, exportMode, 'module.exports =' );\n\tif ( exportBlock ) magicString.append( '\\n\\n' + exportBlock );\n\n\treturn magicString;\n}\n","import { keys } from '../utils/object';\n\nfunction specifiersFor ( externalModule ) {\n\treturn keys( externalModule.importedByBundle )\n\t\t.filter( notDefault )\n\t\t.sort()\n\t\t.map( name => {\n\t\t\tconst id = externalModule.exports.lookup( name );\n\n\t\t\treturn name !== id.name ? `${name} as ${id.name}` : name;\n\t\t});\n}\n\nfunction notDefault ( name ) {\n\treturn name !== 'default';\n}\n\nexport default function es6 ( bundle, magicString ) {\n\tconst importBlock = bundle.externalModules\n\t\t.map( module => {\n\t\t\tconst specifiers = [];\n\n\t\t\tconst id = module.exports.lookup( 'default' );\n\n\t\t\tif ( id ) {\n\t\t\t\tspecifiers.push( id.name );\n\t\t\t}\n\n\t\t\tif ( module.needsAll ) {\n\t\t\t\tspecifiers.push( '* as ' + module.name );\n\t\t\t}\n\n\t\t\tif ( module.needsNamed ) {\n\t\t\t\tspecifiers.push( '{ ' + specifiersFor( module ).join( ', ' ) + ' }' );\n\t\t\t}\n\n\t\t\treturn specifiers.length ?\n\t\t\t\t`import ${specifiers.join( ', ' )} from '${module.id}';` :\n\t\t\t\t`import '${module.id}';`;\n\t\t})\n\t\t.join( '\\n' );\n\n\tif ( importBlock ) {\n\t\tmagicString.prepend( importBlock + '\\n\\n' );\n\t}\n\n\tconst module = bundle.entryModule;\n\n\tconst specifiers = bundle.toExport.filter( notDefault ).map( name => {\n\t\tconst id = bundle.exports.lookup( name );\n\n\t\treturn id.name === name ?\n\t\t\tname :\n\t\t\t`${id.name} as ${name}`;\n\t});\n\n\tlet exportBlock = specifiers.length ? `export { ${specifiers.join(', ')} };` : '';\n\n\tconst defaultExport = module.exports.lookup( 'default' );\n\tif ( defaultExport ) {\n\t\texportBlock += `\\nexport default ${ defaultExport.name };`;\n\t}\n\n\tif ( exportBlock ) {\n\t\tmagicString.append( '\\n\\n' + exportBlock.trim() );\n\t}\n\n\treturn magicString.trim();\n}\n","import { blank } from '../utils/object';\nimport { getName } from '../utils/map-helpers';\nimport getInteropBlock from './shared/getInteropBlock';\nimport getExportBlock from './shared/getExportBlock';\n\nexport default function iife ( bundle, magicString, { exportMode, indentString }, options ) {\n\tconst globalNames = options.globals || blank();\n\n\tlet dependencies = bundle.externalModules.map( module => {\n\t\treturn globalNames[ module.id ] || module.name;\n\t});\n\n\tlet args = bundle.externalModules.map( getName );\n\n\tif ( exportMode !== 'none' && !options.moduleName ) {\n\t\tthrow new Error( 'You must supply options.moduleName for IIFE bundles' );\n\t}\n\n\tif ( exportMode === 'named' ) {\n\t\tdependencies.unshift( `(this.${options.moduleName} = {})` );\n\t\targs.unshift( 'exports' );\n\t}\n\n\tconst useStrict = options.useStrict !== false ? ` 'use strict';` : ``;\n\tlet intro = `(function (${args}) {${useStrict}\\n\\n`;\n\tlet outro = `\\n\\n})(${dependencies});`;\n\n\tif ( exportMode === 'default' ) {\n\t\tintro = `var ${options.moduleName} = ${intro}`;\n\t}\n\n\t// var foo__default = 'default' in foo ? foo['default'] : foo;\n\tconst interopBlock = getInteropBlock( bundle );\n\tif ( interopBlock ) magicString.prepend( interopBlock + '\\n\\n' );\n\n\tconst exportBlock = getExportBlock( bundle, exportMode );\n\tif ( exportBlock ) magicString.append( '\\n\\n' + exportBlock );\n\n\treturn magicString\n\t\t.indent( indentString )\n\t\t.prepend( intro )\n\t\t.append( outro );\n}\n","import { blank } from '../utils/object';\nimport { getName, quoteId, req } from '../utils/map-helpers';\nimport getInteropBlock from './shared/getInteropBlock';\nimport getExportBlock from './shared/getExportBlock';\n\nexport default function umd ( bundle, magicString, { exportMode, indentString }, options ) {\n\tif ( exportMode !== 'none' && !options.moduleName ) {\n\t\tthrow new Error( 'You must supply options.moduleName for UMD bundles' );\n\t}\n\n\tconst globalNames = options.globals || blank();\n\n\tlet amdDeps = bundle.externalModules.map( quoteId );\n\tlet cjsDeps = bundle.externalModules.map( req );\n\tlet globalDeps = bundle.externalModules.map( module => {\n\t\treturn 'global.' + (globalNames[ module.id ] || module.name);\n\t});\n\n\tlet args = bundle.externalModules.map( getName );\n\n\tif ( exportMode === 'named' ) {\n\t\tamdDeps.unshift( `'exports'` );\n\t\tcjsDeps.unshift( `exports` );\n\t\tglobalDeps.unshift( `(global.${options.moduleName} = {})` );\n\n\t\targs.unshift( 'exports' );\n\t}\n\n\tconst amdParams =\n\t\t( options.moduleId ? `'${options.moduleId}', ` : `` ) +\n\t\t( amdDeps.length ? `[${amdDeps.join( ', ' )}], ` : `` );\n\n\tconst cjsExport = exportMode === 'default' ? `module.exports = ` : ``;\n\tconst defaultExport = exportMode === 'default' ? `global.${options.moduleName} = ` : '';\n\n\tconst useStrict = options.useStrict !== false ? ` 'use strict';` : ``;\n\n\tconst intro =\n\t\t`(function (global, factory) {\n\t\t\ttypeof exports === 'object' && typeof module !== 'undefined' ? ${cjsExport}factory(${cjsDeps.join( ', ' )}) :\n\t\t\ttypeof define === 'function' && define.amd ? define(${amdParams}factory) :\n\t\t\t${defaultExport}factory(${globalDeps});\n\t\t}(this, function (${args}) {${useStrict}\n\n\t\t`.replace( /^\\t\\t/gm, '' ).replace( /^\\t/gm, magicString.getIndentString() );\n\n\t// var foo__default = 'default' in foo ? foo['default'] : foo;\n\tconst interopBlock = getInteropBlock( bundle );\n\tif ( interopBlock ) magicString.prepend( interopBlock + '\\n\\n' );\n\n\tconst exportBlock = getExportBlock( bundle, exportMode );\n\tif ( exportBlock ) magicString.append( '\\n\\n' + exportBlock );\n\n\treturn magicString\n\t\t.trim()\n\t\t.indent( indentString )\n\t\t.append( '\\n\\n}));' )\n\t\t.prepend( intro );\n}\n","export function getName ( x ) {\n\treturn x.name;\n}\n\nexport function quoteId ( x ) {\n\treturn `'${x.id}'`;\n}\n\nexport function req ( x ) {\n\treturn `require('${x.id}')`;\n}\n","export default function getInteropBlock ( bundle ) {\n\treturn bundle.externalModules\n\t\t.map( module => {\n\t\t\tconst def = module.exports.lookup( 'default' );\n\n\t\t\tif ( !def ) return;\n\n\t\t\treturn ( module.needsNamed ? 'var ' : '' ) +\n\t\t\t\t`${def.name} = 'default' in ${module.name} ? ${module.name}['default'] : ${module.name};`;\n\t\t})\n\t\t.filter( Boolean )\n\t\t.join( '\\n' );\n}\n","function wrapAccess ( id ) {\n\treturn ( id.originalName !== 'default' && id.module && id.module.isExternal ) ?\n\t\tid.module.name + propertyAccess( id.originalName ) : id.name;\n}\n\nfunction propertyAccess ( name ) {\n\treturn name === 'default' ? `['default']` : `.${name}`;\n}\n\nexport default function getExportBlock ( bundle, exportMode, mechanism = 'return' ) {\n\tif ( exportMode === 'default' ) {\n\t\tconst id = bundle.exports.lookup( 'default' );\n\n\t\treturn `${mechanism} ${wrapAccess( id )};`;\n\t}\n\n\treturn bundle.toExport\n\t\t.map( name => {\n\t\t\tconst id = bundle.exports.lookup( name );\n\n\t\t\treturn `exports${propertyAccess( name )} = ${wrapAccess( id )};`;\n\t\t})\n\t\t.join( '\\n' );\n}\n","export function unixizePath ( path ) {\n\treturn path.split( /[\\/\\\\]/ ).join( '/' );\n}\n","export const keys = Object.keys;\n\nexport function blank () {\n\treturn Object.create( null );\n}\n","// TODO does this all work on windows?\n\nexport const absolutePath = /^(?:\\/|(?:[A-Za-z]:)?[\\\\|\\/])/;\n\nexport function isAbsolute ( path ) {\n\treturn absolutePath.test( path );\n}\n\nexport function basename ( path ) {\n\treturn path.split( /(\\/|\\\\)/ ).pop();\n}\n\nexport function dirname ( path ) {\n\tconst match = /(\\/|\\\\)[^\\/\\\\]*$/.exec( path );\n\tif ( !match ) return '.';\n\n\tconst dir = path.slice( 0, -match[0].length );\n\n\t// If `dir` is the empty string, we're at root.\n\treturn dir ? dir : '/';\n}\n\nexport function extname ( path ) {\n\tconst match = /\\.[^\\.]+$/.exec( path );\n\tif ( !match ) return '';\n\treturn match[0];\n}\n\nexport function relative ( from, to ) {\n\tconst fromParts = from.split( /[\\/\\\\]/ ).filter( Boolean );\n\tconst toParts = to.split( /[\\/\\\\]/ ).filter( Boolean );\n\n\twhile ( fromParts[0] && toParts[0] && fromParts[0] === toParts[0] ) {\n\t\tfromParts.shift();\n\t\ttoParts.shift();\n\t}\n\n\twhile ( toParts[0] === '.' || toParts[0] === '..' ) {\n\t\tconst toPart = toParts.shift();\n\t\tif ( toPart === '..' ) {\n\t\t\tfromParts.pop();\n\t\t}\n\t}\n\n\twhile ( fromParts.pop() ) {\n\t\ttoParts.unshift( '..' );\n\t}\n\n\treturn toParts.join( '/' );\n}\n\nexport function resolve ( ...paths ) {\n\tlet resolvedParts = paths.shift().split( /[\\/\\\\]/ );\n\n\tpaths.forEach( path => {\n\t\tif ( isAbsolute( path ) ) {\n\t\t\tresolvedParts = path.split( /[\\/\\\\]/ );\n\t\t} else {\n\t\t\tconst parts = path.split( /[\\/\\\\]/ );\n\n\t\t\twhile ( parts[0] && parts[0][0] === '.' ) {\n\t\t\t\tconst part = parts.shift();\n\t\t\t\tif ( part === '..' ) {\n\t\t\t\t\tresolvedParts.pop();\n\t\t\t\t} else if ( part !== '.' ) {\n\t\t\t\t\tthrow new Error( `Unexpected path part (${part})` );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tresolvedParts.push.apply( resolvedParts, parts );\n\t\t}\n\t});\n\n\treturn resolvedParts.join( '/' ); // TODO windows...\n}\n","// this looks ridiculous, but it prevents sourcemap tooling from mistaking\n// this for an actual sourceMappingURL\nlet SOURCEMAPPING_URL = 'sourceMa';\nSOURCEMAPPING_URL += 'ppingURL';\n\nexport default SOURCEMAPPING_URL;\n"],"names":["writeFile","Bundle","finalisers","Promise","readFileSync","readdirSync","parse","Id","Scope","blank","btoa","getLocation"],"mappings":"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"}